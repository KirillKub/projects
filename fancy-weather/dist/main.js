!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";async function n(e){const t=e;try{const e=await fetch(t);return await e.json()}catch(e){return e}}a.r(t);const i={BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BQ:"Bonaire, Saint Eustatius and Saba ",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize",RU:"Russia",RW:"Rwanda",RS:"Serbia",TL:"East Timor",RE:"Reunion",TM:"Turkmenistan",TJ:"Tajikistan",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",EE:"Estonia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Democratic Republic of the Congo",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CW:"Curacao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"South Korea",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",TO:"Tonga",LT:"Lithuania",LU:"Luxembourg",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",AO:"Angola",AQ:"Antarctica",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"},s=["main__section1","main__wrapper"],o=["main__section1__box","main__section1__search"],r=["main__section1__switch-photo","main__section1__switch-lang","main__section1__switch-temperature"],c=["switch-temperature-item-C","switch-temperature-item-F"],m=["main__section1__search-flex"],l=["main__box","main__section4"],d=["main__section2","main__section3"],u=["main__section2__town","main__section2__day","main__section2__temperature"],_=["main__section2__element","main__section2__element","main__section2__element","main__section2__element"],y=["main__section3__weather","main__section3__weather","main__section3__weather"],p=["main__section3__weather-day","main__section3__weather-temperature"],g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],M=["January","February","March","April","May","June","July","August","September","October","November","December"];let w,C;async function E(){let e=n("https://ipinfo.io/json?token=fa763d842192af");try{const{loc:t}=await e,[a,n]=t.split(",");return w=a,C=n,document.getElementsByClassName("main__section4-text")[0].innerHTML=`Latitude: ${a}`,document.getElementsByClassName("main__section4-text")[1].innerHTML=`Longitude: ${n}`,[].push(w,C)}catch(e){return e}}async function b(){let e=n("https://ipinfo.io/json?token=fa763d842192af");try{const{city:t,country:a,timezone:n}=await e;return document.getElementsByClassName("main__section2__town")[0].innerHTML=`${t}, ${i[a]}`,[t,a,n]}catch(e){return e}}function f(e,t){if(1===document.getElementsByClassName(`${t}`).length)for(let a=0;a<e.length;a++){let n=document.createElement("div");n.classList.add(`${e[a]}`),document.getElementsByClassName(`${t}`)[0].append(n)}else for(let a=0;a<document.getElementsByClassName(`${t}`).length;a++)for(let n=0;n<e.length;n++){let i=document.createElement("div");i.classList.add(`${e[n]}`),document.getElementsByClassName(`${t}`)[a].append(i)}}async function B(){const e=["winter","winter","spring","spring","spring","summer","summer","summer","autumn","autumn","autumn","winter"];let t,a,i,s,[o,r,c]=await b(),m=(new Date).toLocaleString(0,{timeZone:`${c}`});m=new Date(Date.parse(m)),i=o,s=r,t=(m=new Date(m)).getHours()>6&&m.getHours()<18?"day":"night";try{let e=n(`https://api.weatherbit.io/v2.0/current?city=${i},${s}&key=951d785022f045b5bc35af3182159042`),t=await e;a=(t=t.data[0]).weather.description}catch(e){return e}try{let i=n(`https://api.unsplash.com/photos/random?query=${e[m.getMonth()]},${t},${a}&client_id=ac0b1211b12e78e6cac4831942dc71d2af196faa332462c746a0a3d213383c23`),{urls:s}=await i;document.getElementsByClassName("main")[0].style.background=`url(${s.small}) center center / cover no-repeat`}catch(e){return e}}let N,S,L="";const T=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],I=["January","February","March","April","May","June","July","August","September","October","November","December"];!function(){let e=document.createElement("main");e.classList.add("main"),document.body.append(e),f(s,"main"),f(o,"main__section1"),f(r,"main__section1__box"),f(c,"main__section1__switch-temperature"),f(m,"main__section1__search"),function(){let e=document.createElement("button");e.classList.add("main__section1__search-button"),e.innerHTML="search",document.getElementsByClassName("main__section1__search")[0].append(e)}(),function(){let e=document.createElement("input"),t=document.createElement("div"),a=document.createElement("img");a.src="../dist/assets/images/search.png",e.classList.add("main__section1__search-input"),t.classList.add("search-flex-item"),t.append(a),document.getElementsByClassName("main__section1__search-flex")[0].append(e),document.getElementsByClassName("main__section1__search-flex")[0].append(t)}(),f(l,"main__wrapper"),f(d,"main__box"),f(u,"main__section2"),async function(){let e,t,a=document.createElement("div"),i=document.createElement("img"),s=document.createElement("div"),o=document.createElement("span"),r=document.createElement("img");a.classList.add("main__section2__temperature-now"),i.classList.add("main__section2__temperature-img"),s.classList.add("main__section2__temperature-description"),r.classList.add("temperature-now-img"),r.src="../dist/assets/images/circle.png",a.append(o),a.append(r),document.getElementsByClassName("main__section2__temperature")[0].append(a),document.getElementsByClassName("main__section2__temperature")[0].append(i),document.getElementsByClassName("main__section2__temperature")[0].append(s);try{let[a,n]=await b();e=a,t=n}catch(e){return e}let c=n(`https://api.weatherbit.io/v2.0/current?city=${e},${t}&key=951d785022f045b5bc35af3182159042`);try{let e=await c;e=e.data[0],o.innerHTML=Math.round(e.temp),i.src=`../dist/assets/images/weather/${e.weather.icon}.png`}catch(e){return e}}(),f(_,"main__section2__temperature-description"),f(y,"main__section3"),f(p,"main__section3__weather"),async function(){let e,t,[a,i]=await b(),s=n(`https://api.weatherbit.io/v2.0/forecast/daily?city=${e=a},${t=i}&key=951d785022f045b5bc35af3182159042&days=4`);for(let e=0;e<3;e++){let t=document.createElement("img"),a=document.createElement("span");t.classList.add("main__section3__weather-img");try{let n=await s;n=n.data[e+1],a.innerHTML=Math.round(n.temp)+"°",t.src=`../dist/assets/images/weather/${n.weather.icon}.png`,t.style.width="68px"}catch(e){return e}document.getElementsByClassName("main__section3__weather-temperature")[e].append(a),document.getElementsByClassName("main__section3__weather-temperature")[e].append(t)}}(),b(),async function(){let e=document.createElement("div"),t=document.createElement("div"),a=document.createElement("div");t.classList.add("main__section4-text"),a.classList.add("main__section4-text"),e.id="map",document.getElementsByClassName("main__section4")[0].append(e),document.getElementsByClassName("main__section4")[0].append(t),document.getElementsByClassName("main__section4")[0].append(a),document.getElementById("map").style.width="400px",document.getElementById("map").style.height="375px",await E(),mapboxgl.accessToken="pk.eyJ1Ijoia2lyaWxsa3ViIiwiYSI6ImNrM2tqd2IyZTAzdDEza240OHE0NGZvMWwifQ.u4ePMf5LJIEOrcLdPByj2g",mapboxSdk({accessToken:mapboxgl.accessToken}).geocoding.forwardGeocode({query:"Wellington, New Zealand",autocomplete:!1,limit:1}).send().then((function(e){if(e&&e.body&&e.body.features&&e.body.features.length){var t=e.body.features[0];t.center=[C,w];var a=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:t.center,zoom:10});(new mapboxgl.Marker).setLngLat(t.center).addTo(a)}}))}(),function(){let e=document.createElement("img");e.src="../dist/assets/images/switch.png",document.getElementsByClassName("main__section1__switch-photo")[0].append(e)}(),document.getElementsByClassName("switch-temperature-item-F")[0].innerHTML="°F",document.getElementsByClassName("switch-temperature-item-C")[0].innerHTML="°C",document.getElementsByClassName("switch-temperature-item-C")[0].classList.add("active"),function(){let e=document.createElement("img");e.src="../dist/assets/images/down.png",document.getElementsByClassName("main__section1__switch-lang")[0].innerHTML="EN",document.getElementsByClassName("main__section1__switch-lang")[0].append(e)}(),async function(){let e,t,[a,i]=await b(),s=n(`https://api.weatherbit.io/v2.0/current?city=${e=a},${t=i}&key=951d785022f045b5bc35af3182159042`);try{let e=await s;e=e.data[0],document.getElementsByClassName("main__section2__element")[0].innerHTML=e.weather.description,document.getElementsByClassName("main__section2__element")[1].innerHTML=`Feels like: ${Math.round(e.app_temp)}°`,document.getElementsByClassName("main__section2__element")[2].innerHTML=`WIND: ${Math.round(e.wind_spd)}M/S`,document.getElementsByClassName("main__section2__element")[3].innerHTML=`HUMIDITY: ${e.rh}%`}catch(e){return e}}(),document.getElementsByClassName("main__section1__search-input")[0].placeholder="Search city",E(),async function(){let[e,t,a]=await b(),n=(new Date).toLocaleString(0,{timeZone:`${a}`}),i=(n=new Date(Date.parse(n))).getMinutes();i<10&&(i="0"+n.getMinutes());document.getElementsByClassName("main__section2__day")[0].innerHTML=`${g[n.getDay()]} ${n.getDate()} ${M[n.getMonth()]}, ${n.getHours()}:${i}`}(),async function(){let[e,t,a]=await b(),n=(new Date).toLocaleString(0,{timeZone:`${a}`});n=new Date(Date.parse(n)),document.getElementsByClassName("main__section3__weather-day")[0].innerHTML=`${h[(+n.getDay()+1)%7]}`,document.getElementsByClassName("main__section3__weather-day")[1].innerHTML=`${h[(+n.getDay()+2)%7]}`,document.getElementsByClassName("main__section3__weather-day")[2].innerHTML=`${h[(+n.getDay()+3)%7]}`}(),B()}(),setInterval((async function(){let[e,t]=document.getElementsByClassName("main__section2__town")[0].innerHTML.split(", "),a=n(`https://api.weatherbit.io/v2.0/current?city=${e},${t}&key=951d785022f045b5bc35af3182159042`);try{let e=await a,t=(e=e.data[0]).timezone,n=(new Date).toLocaleString(0,{timeZone:`${t}`}),i=(n=new Date(Date.parse(n))).getMinutes();i<10&&(i="0"+n.getMinutes()),document.getElementsByClassName("main__section2__day")[0].innerHTML=`${T[n.getDay()]} ${n.getDate()} ${I[n.getMonth()]}, ${n.getHours()}:${i}`}catch(e){return e}}),6e4),document.getElementsByClassName("main__section1__switch-photo")[0].addEventListener("click",(function(){B(),console.log(document.getElementsByClassName("main__section2__town")[0]),console.log(document.getElementsByClassName("main__section2__element")[0])})),document.getElementsByClassName("main__section1__switch-temperature")[0].addEventListener("click",(async function(e){let t,a=e.target;document.getElementsByClassName("switch-temperature-item-C")[0].classList.remove("active"),document.getElementsByClassName("switch-temperature-item-F")[0].classList.remove("active"),a.classList.add("active");let[i,s]=document.getElementsByClassName("main__section2__town")[0].innerHTML.split(", ");S=i,t=s,N=a.classList.contains("switch-temperature-item-C")?"units=M":"units=I";let o=n(`https://api.weatherbit.io/v2.0/current?city=${S},${t}&key=951d785022f045b5bc35af3182159042&${N}`);try{let e=await o;e=e.data[0],document.getElementsByClassName("main__section2__temperature-now")[0].firstChild.textContent=Math.round(e.temp),document.getElementsByClassName("main__section2__element")[1].innerHTML=`Feels like: ${Math.round(e.app_temp)}°`}catch(e){return e}let r=n(`https://api.weatherbit.io/v2.0/forecast/daily?city=${S},${t}&key=951d785022f045b5bc35af3182159042&${N}&days=4`);for(let e=0;e<3;e++)try{let t=await r;t=t.data[e+1],document.getElementsByClassName("main__section3__weather-temperature")[e].firstChild.textContent=Math.round(t.temp)+"°"}catch(e){return e}})),document.getElementsByClassName("main__section1__search-input")[0].addEventListener("focusout",(function(){L=document.getElementsByClassName("main__section1__search-input")[0].value})),document.getElementsByClassName("main__section1__search-button")[0].addEventListener("click",(async function(){let e,t,a,s,o=n(`https://api.weatherbit.io/v2.0/current?city=${S=L}&key=951d785022f045b5bc35af3182159042&${N}`);try{let n=await o;a=(n=n.data[0]).timezone,t=n.lat,e=n.lon,s=(new Date).toLocaleString(0,{timeZone:`${a}`});let r=(s=new Date(Date.parse(s))).getMinutes();r<10&&(r="0"+s.getMinutes()),document.getElementsByClassName("main__section2__day")[0].innerHTML=`${T[s.getDay()]} ${s.getDate()} ${I[s.getMonth()]}, ${s.getHours()}:${r}`,document.getElementsByClassName("main__section2__town")[0].textContent=`${n.city_name}, ${i[n.country_code]}`,document.getElementsByClassName("main__section2__temperature-now")[0].firstChild.textContent=Math.round(n.temp),document.getElementsByClassName("main__section2__element")[0].innerHTML=n.weather.description,document.getElementsByClassName("main__section2__element")[1].innerHTML=`Feels like: ${Math.round(n.app_temp)}°`,document.getElementsByClassName("main__section2__element")[2].innerHTML=`WIND: ${Math.round(n.wind_spd)}M/S`,document.getElementsByClassName("main__section2__element")[3].innerHTML=`HUMIDITY: ${n.rh}%`}catch(e){return e}let r=n(`https://api.weatherbit.io/v2.0/forecast/daily?city=${S}&key=951d785022f045b5bc35af3182159042&${N}&days=4`);for(let e=0;e<3;e++)try{let t=await r;t=t.data[e+1],document.getElementsByClassName("main__section3__weather-temperature")[e].firstChild.textContent=Math.round(t.temp)+"°"}catch(e){return e}document.getElementsByClassName("main__section4-text")[0].innerHTML=`Latitude: ${t}`,document.getElementsByClassName("main__section4-text")[1].innerHTML=`Longitude: ${e}`,mapboxgl.accessToken="pk.eyJ1Ijoia2lyaWxsa3ViIiwiYSI6ImNrM2tqd2IyZTAzdDEza240OHE0NGZvMWwifQ.u4ePMf5LJIEOrcLdPByj2g",mapboxSdk({accessToken:mapboxgl.accessToken}).geocoding.forwardGeocode({query:"Wellington, New Zealand",autocomplete:!1,limit:1}).send().then((function(a){if(a&&a.body&&a.body.features&&a.body.features.length){var n=a.body.features[0];n.center=[e,t];var i=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:n.center,zoom:10});(new mapboxgl.Marker).setLngLat(n.center).addTo(i)}}))}))}]);