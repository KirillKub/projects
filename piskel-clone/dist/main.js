!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}([function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)a(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,a){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),a);else for(var i=0;i<r;i++)t[a+i]=e[n+i]},flattenChunks:function(t){var e,n,r,a,i,o;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(o=new Uint8Array(r),a=0,e=0,n=t.length;e<n;e++)i=t[e],o.set(i,a),a+=i.length;return o}},o={arraySet:function(t,e,n,r,a){for(var i=0;i<r;i++)t[a+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var a=65535&t|0,i=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+e[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0}},function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,a){var i=r,o=a+n;t^=-1;for(var s=a;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var r=n(0),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&i||!t.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n}o[254]=o[254]=1,e.string2buf=function(t){var e,n,a,i,o,s=t.length,l=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(a=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(l),o=0,i=0;o<l;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(a=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,a=e.length;n<a;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,a,i,s=e||t.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((a=t[n++])<128)c[r++]=a;else if((i=o[a])>4)c[r++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&n<s;)a=a<<6|63&t[n++],i--;i>1?c[r++]=65533:a<65536?c[r++]=a:(a-=65536,c[r++]=55296|a>>10&1023,c[r++]=56320|1023&a)}return l(c,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+o[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){GIFEncoder=function(){for(var t=0,e={};t<256;t++)e[t]=String.fromCharCode(t);function n(){this.bin=[]}n.prototype.getData=function(){for(var t="",n=this.bin.length,r=0;r<n;r++)t+=e[this.bin[r]];return t},n.prototype.writeByte=function(t){this.bin.push(t)},n.prototype.writeUTFBytes=function(t){for(var e=t.length,n=0;n<e;n++)this.writeByte(t.charCodeAt(n))},n.prototype.writeBytes=function(t,e,n){for(var r=n||t.length,a=e||0;a<r;a++)this.writeByte(t[a])};var r,a,i,o,s,l,c,d,u,f={},h=null,m=-1,g=0,p=!1,_=[],v=7,w=-1,b=!1,y=!0,k=!1,A=10,B="Generated by jsgif (https://github.com/antimatter15/jsgif/)",E=(f.setDelay=function(t){g=Math.round(t/10)},f.setDispose=function(t){t>=0&&(w=t)},f.setRepeat=function(t){t>=0&&(m=t)},f.setTransparent=function(t){h=t},f.setComment=function(t){B=t},f.addFrame=function(t,e){if(null===t||!p||null===o)throw new Error("Please call start method before calling addFrame");var n=!0;try{e?t instanceof ImageData?(s=t.data,sizeset&&r==t.width&&a==t.height||I(t.width,t.height)):t instanceof Uint8ClampedArray?t.length==r*a*4?s=t:(console.log("Please set the correct size: ImageData length mismatch"),n=!1):(console.log("Please provide correct input"),n=!1):(s=t.getImageData(0,0,t.canvas.width,t.canvas.height).data,k||I(t.canvas.width,t.canvas.height)),z(),x(),y&&(R(),N(),m>=0&&T()),S(),""!==B&&U(),C(),y||N(),P(),y=!1}catch(t){n=!1}return n},f.download=function(t){if(null===o||0==b)console.log("Please call start method and add frames and call finish method before calling download");else{t=void 0!==t?t.endsWith(".gif")?t:t+".gif":"download.gif";var e=document.createElement("a");e.download=t,e.href=URL.createObjectURL(new Blob([new Uint8Array(o.bin)],{type:"image/gif"})),e.click()}},f.finish=function(){if(!p)return!1;var t=!0;p=!1;try{o.writeByte(59),b=!0}catch(e){t=!1}return t},function(){i=0,s=null,l=null,c=null,u=null,b=!1,y=!0}),I=(f.setFrameRate=function(t){15!=t&&(g=Math.round(100/t))},f.setQuality=function(t){t<1&&(t=1),A=t},f.setSize=function(t,e){p&&!y||((r=t)<1&&(r=320),(a=e)<1&&(a=240),k=!0)}),x=(f.start=function(){E();var t=!0;b=!1,o=new n;try{o.writeUTFBytes("GIF89a")}catch(e){t=!1}return p=t},f.cont=function(){E();return b=!1,o=new n,p=!0},function(){var t=l.length,e=t/3;c=[];var n=new NeuQuant(l,t,A);u=n.process();for(var r=0,a=0;a<e;a++){var o=n.map(255&l[r++],255&l[r++],255&l[r++]);_[o]=!0,c[a]=o}l=null,d=8,v=7,null!==h&&(i=L(h))}),L=function(t){if(null===u)return-1;for(var e=(16711680&t)>>16,n=(65280&t)>>8,r=255&t,a=0,i=16777216,o=u.length,s=0;s<o;){var l=e-(255&u[s++]),c=n-(255&u[s++]),d=r-(255&u[s]),f=l*l+c*c+d*d,h=s/3;_[h]&&f<i&&(i=f,a=h),s++}return a},z=function(){var t=r,e=a;l=[];for(var n=s,i=0,o=0;o<e;o++)for(var c=0;c<t;c++){var d=o*t*4+4*c;l[i++]=n[d],l[i++]=n[d+1],l[i++]=n[d+2]}},S=function(){var t,e;o.writeByte(33),o.writeByte(249),o.writeByte(4),null===h?(t=0,e=0):(t=1,e=2),w>=0&&(e=7&w),e<<=2,o.writeByte(0|e|t),D(g),o.writeByte(i),o.writeByte(0)},U=function(){o.writeByte(33),o.writeByte(254),o.writeByte(B.length),o.writeUTFBytes(B),o.writeByte(0)},C=function(){o.writeByte(44),D(0),D(0),D(r),D(a),y?o.writeByte(0):o.writeByte(128|v)},R=function(){D(r),D(a),o.writeByte(240|v),o.writeByte(0),o.writeByte(0)},T=function(){o.writeByte(33),o.writeByte(255),o.writeByte(11),o.writeUTFBytes("NETSCAPE2.0"),o.writeByte(3),o.writeByte(1),D(m),o.writeByte(0)},N=function(){o.writeBytes(u);for(var t=768-u.length,e=0;e<t;e++)o.writeByte(0)},D=function(t){o.writeByte(255&t),o.writeByte(t>>8&255)},P=function(){new LZWEncoder(r,a,c,d).encode(o)};f.stream=function(){return o},f.setProperties=function(t,e){p=t,y=e};return f}},function(t,e){LZWEncoder=function(){var t,e,n,r,a,i,o,s,l,c,d,u,f={},h=-1,m=12,g=5003,p=m,_=1<<m,v=[],w=[],b=g,y=0,k=!1,A=0,B=0,E=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],I=[],x=f.LZWEncoder=function(a,i,o,s){t=a,e=i,n=o,r=Math.max(2,s)},L=function(t,e){I[u++]=t,u>=254&&C(e)},z=function(t){S(b),y=c+2,k=!0,N(c,t)},S=function(t){for(var e=0;e<t;++e)v[e]=-1},U=f.compress=function(t,e){var n,r,a,i,f,m,g;for(k=!1,s=R(o=l=t),d=(c=1<<t-1)+1,y=c+2,u=0,i=T(),g=0,n=b;n<65536;n*=2)++g;g=8-g,S(m=b),N(c,e);t:for(;(a=T())!=h;)if(n=(a<<p)+i,v[r=a<<g^i]!=n){if(v[r]>=0){f=m-r,0===r&&(f=1);do{if((r-=f)<0&&(r+=m),v[r]==n){i=w[r];continue t}}while(v[r]>=0)}N(i,e),i=a,y<_?(w[r]=y++,v[r]=n):z(e)}else i=w[r];N(i,e),N(d,e)},C=(f.encode=function(n){n.writeByte(r),a=t*e,i=0,U(r+1,n),n.writeByte(0)},function(t){u>0&&(t.writeByte(u),t.writeBytes(I,0,u),u=0)}),R=function(t){return(1<<t)-1},T=function(){return 0===a?h:(--a,255&n[i++])},N=function(t,e){for(A&=E[B],B>0?A|=t<<B:A=t,B+=o;B>=8;)L(255&A,e),A>>=8,B-=8;if((y>s||k)&&(k?(s=R(o=l),k=!1):(++o,s=o==p?_:R(o))),t==d){for(;B>0;)L(255&A,e),A>>=8,B-=8;C(e)}};return x.apply(this,arguments),f}},function(t,e){NeuQuant=function(){var t,e,n,r,a,i={},o=256,s=499,l=491,c=487,d=503,u=3*d,f=o-1,h=4,m=100,g=16,p=1<<g,_=10,v=10,w=p>>v,b=p<<_-v,y=o>>3,k=6,A=1<<k,B=y*A,E=30,I=10,x=1<<I,L=8,z=1<<L,S=I+L,U=1<<S,C=[],R=[],T=[],N=[],D=i.NeuQuant=function(t,i,s){var l,c;for(e=t,n=i,r=s,a=new Array(o),l=0;l<o;l++)a[l]=new Array(4),(c=a[l])[0]=c[1]=c[2]=(l<<h+8)/o,T[l]=p/o,R[l]=0},P=function(){for(var t=[],e=new Array(o),n=0;n<o;n++)e[a[n][3]]=n;for(var r=0,i=0;i<o;i++){var s=e[i];t[r++]=a[s][0],t[r++]=a[s][1],t[r++]=a[s][2]}return t},O=function(){var t,e,n,r,i,s,l,c;for(l=0,c=0,t=0;t<o;t++){for(n=t,r=(i=a[t])[1],e=t+1;e<o;e++)(s=a[e])[1]<r&&(n=e,r=s[1]);if(s=a[n],t!=n&&(e=s[0],s[0]=i[0],i[0]=e,e=s[1],s[1]=i[1],i[1]=e,e=s[2],s[2]=i[2],i[2]=e,e=s[3],s[3]=i[3],i[3]=e),r!=l){for(C[l]=c+t>>1,e=l+1;e<r;e++)C[e]=t;l=r,c=t}}for(C[l]=c+f>>1,e=l+1;e<256;e++)C[e]=f},Z=function(){var a,i,o,f,g,p,_,v,w,b,y,A,I,L;for(n<u&&(r=1),t=30+(r-1)/3,A=e,I=0,L=n,b=(y=n/(3*r))/m|0,v=x,(_=(p=B)>>k)<=1&&(_=0),a=0;a<_;a++)N[a]=v*((_*_-a*a)*z/(_*_));for(w=n<u?3:n%s!=0?3*s:n%l!=0?3*l:n%c!=0?3*c:3*d,a=0;a<y;)if(o=(255&A[I+0])<<h,f=(255&A[I+1])<<h,g=(255&A[I+2])<<h,i=q(o,f,g),j(v,i,o,f,g),0!==_&&F(_,i,o,f,g),(I+=w)>=L&&(I-=n),0===b&&(b=1),++a%b==0)for(v-=v/t,(_=(p-=p/E)>>k)<=1&&(_=0),i=0;i<_;i++)N[i]=v*((_*_-i*i)*z/(_*_))},M=(i.map=function(t,e,n){var r,i,s,l,c,d,u;for(c=1e3,u=-1,i=(r=C[e])-1;r<o||i>=0;)r<o&&((s=(d=a[r])[1]-e)>=c?r=o:(r++,s<0&&(s=-s),(l=d[0]-t)<0&&(l=-l),(s+=l)<c&&((l=d[2]-n)<0&&(l=-l),(s+=l)<c&&(c=s,u=d[3])))),i>=0&&((s=e-(d=a[i])[1])>=c?i=-1:(i--,s<0&&(s=-s),(l=d[0]-t)<0&&(l=-l),(s+=l)<c&&((l=d[2]-n)<0&&(l=-l),(s+=l)<c&&(c=s,u=d[3]))));return u},i.process=function(){return Z(),M(),O(),P()},function(){var t;for(t=0;t<o;t++)a[t][0]>>=h,a[t][1]>>=h,a[t][2]>>=h,a[t][3]=t}),F=function(t,e,n,r,i){var s,l,c,d,u,f,h;for((c=e-t)<-1&&(c=-1),(d=e+t)>o&&(d=o),s=e+1,l=e-1,f=1;s<d||l>c;){if(u=N[f++],s<d){h=a[s++];try{h[0]-=u*(h[0]-n)/U,h[1]-=u*(h[1]-r)/U,h[2]-=u*(h[2]-i)/U}catch(t){}}if(l>c){h=a[l--];try{h[0]-=u*(h[0]-n)/U,h[1]-=u*(h[1]-r)/U,h[2]-=u*(h[2]-i)/U}catch(t){}}}},j=function(t,e,n,r,i){var o=a[e];o[0]-=t*(o[0]-n)/x,o[1]-=t*(o[1]-r)/x,o[2]-=t*(o[2]-i)/x},q=function(t,e,n){var r,i,s,l,c,d,u,f,m,p;for(m=f=~(1<<31),u=d=-1,r=0;r<o;r++)(i=(p=a[r])[0]-t)<0&&(i=-i),(s=p[1]-e)<0&&(s=-s),i+=s,(s=p[2]-n)<0&&(s=-s),(i+=s)<f&&(f=i,d=r),(l=i-(R[r]>>g-h))<m&&(m=l,u=r),c=T[r]>>v,T[r]-=c,R[r]+=c<<_;return T[d]+=w,R[d]-=b,u};return D.apply(this,arguments),i}},function(t,e,n){var r,a,i;
/**
 * apng-canvas v2.1.2
 *
 * @copyright 2011-2019 David Mzareulyan
 * @link https://github.com/davidmz/apng-canvas
 * @license MIT
 */
!function t(e,n,a){function i(s,l){if(!n[s]){if(!e[s]){if(!l&&("function"==typeof r&&r))return r(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,(function(t){return i(e[s][1][t]||t)}),c,c.exports,t,e,n,a)}return n[s].exports}for(var o="function"==typeof r&&r,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(r,o,s){(function(l,c){var d;d=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,a=void 0,i=void 0,o=function(t,e){g[n]=t,g[n+1]=e,2===(n+=2)&&(i?i(p):y())},s="undefined"!=typeof window?window:void 0,d=s||{},u=d.MutationObserver||d.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==l&&"[object process]"==={}.toString.call(l),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function m(){var t=setTimeout;return function(){return t(p,1)}}var g=new Array(1e3);function p(){for(var t=0;t<n;t+=2)(0,g[t])(g[t+1]),g[t]=void 0,g[t+1]=void 0;n=0}var _,v,w,b,y=void 0;function k(t,e){var n=this,r=new this.constructor(E);void 0===r[B]&&O(r);var a=n._state;if(a){var i=arguments[a-1];o((function(){return D(a,r,i,n._result)}))}else T(n,r,t,e);return r}function A(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(E);return S(e,t),e}y=f?function(){return l.nextTick(p)}:u?(v=0,w=new u(p),b=document.createTextNode(""),w.observe(b,{characterData:!0}),function(){b.data=v=++v%2}):h?((_=new MessageChannel).port1.onmessage=p,function(){return _.port2.postMessage(0)}):void 0===s&&"function"==typeof r?function(){try{var t=Function("return this")().require("vertx");return void 0!==(a=t.runOnLoop||t.runOnContext)?function(){a(p)}:m()}catch(t){return m()}}():m();var B=Math.random().toString(36).substring(2);function E(){}var I=void 0,x=1,L=2;function z(e,n,r){n.constructor===e.constructor&&r===k&&n.constructor.resolve===A?function(t,e){e._state===x?C(t,e._result):e._state===L?R(t,e._result):T(e,void 0,(function(e){return S(t,e)}),(function(e){return R(t,e)}))}(e,n):void 0===r?C(e,n):t(r)?function(t,e,n){o((function(t){var r=!1,a=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?S(t,n):C(t,n))}),(function(e){r||(r=!0,R(t,e))}),t._label);!r&&a&&(r=!0,R(t,a))}),t)}(e,n,r):C(e,n)}function S(t,e){if(t===e)R(t,new TypeError("You cannot resolve a promise with itself"));else if(function(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)}(e)){var n=void 0;try{n=e.then}catch(e){return void R(t,e)}z(t,e,n)}else C(t,e)}function U(t){t._onerror&&t._onerror(t._result),N(t)}function C(t,e){t._state===I&&(t._result=e,t._state=x,0!==t._subscribers.length&&o(N,t))}function R(t,e){t._state===I&&(t._state=L,t._result=e,o(U,t))}function T(t,e,n,r){var a=t._subscribers,i=a.length;t._onerror=null,a[i]=e,a[i+x]=n,a[i+L]=r,0===i&&t._state&&o(N,t)}function N(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,a=void 0,i=t._result,o=0;o<e.length;o+=3)r=e[o],a=e[o+n],r?D(n,r,a,i):a(i);t._subscribers.length=0}}function D(e,n,r,a){var i=t(r),o=void 0,s=void 0,l=!0;if(i){try{o=r(a)}catch(e){l=!1,s=e}if(n===o)return void R(n,new TypeError("A promises callback cannot return that same promise."))}else o=a;n._state!==I||(i&&l?S(n,o):!1===l?R(n,s):e===x?C(n,o):e===L&&R(n,o))}var P=0;function O(t){t[B]=P++,t._state=void 0,t._result=void 0,t._subscribers=[]}var Z=(M.prototype._enumerate=function(t){for(var e=0;this._state===I&&e<t.length;e++)this._eachEntry(t[e],e)},M.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===A){var a=void 0,i=void 0,o=!1;try{a=t.then}catch(e){o=!0,i=e}if(a===k&&t._state!==I)this._settledAt(t._state,e,t._result);else if("function"!=typeof a)this._remaining--,this._result[e]=t;else if(n===F){var s=new n(E);o?R(s,i):z(s,t,a),this._willSettleAt(s,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},M.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===I&&(this._remaining--,t===L?R(r,n):this._result[e]=n),0===this._remaining&&C(r,this._result)},M.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,(function(t){return n._settledAt(x,e,t)}),(function(t){return n._settledAt(L,e,t)}))},M);function M(t,n){this._instanceConstructor=t,this.promise=new t(E),this.promise[B]||O(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&C(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}var F=(j.prototype.catch=function(t){return this.then(null,t)},j.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},j);function j(t){this[B]=P++,this._result=this._state=void 0,this._subscribers=[],E!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof j?function(t,e){try{e((function(e){S(t,e)}),(function(e){R(t,e)}))}catch(e){R(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return F.prototype.then=k,F.all=function(t){return new Z(this,t).promise},F.race=function(t){var n=this;return e(t)?new n((function(e,r){for(var a=t.length,i=0;i<a;i++)n.resolve(t[i]).then(e,r)})):new n((function(t,e){return e(new TypeError("You must pass an array to race."))}))},F.resolve=A,F.reject=function(t){var e=new this(E);return R(e,t),e},F._setScheduler=function(t){i=t},F._setAsap=function(t){o=t},F._asap=o,F.polyfill=function(){var t=void 0;if(void 0!==c)t=c;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=F},F.Promise=F},"object"==typeof s&&void 0!==o?o.exports=d():void 0===(i="function"==typeof(a=d)?a.call(e,n,e,t):a)||(t.exports=i)}).call(this,r("VCmEsw"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{VCmEsw:2}],2:[function(t,e,n){var r=e.exports={};function a(){}r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",(function(t){var e=t.source;e!==window&&null!==e||"process-tick"!==t.data||(t.stopPropagation(),0<n.length&&n.shift()())}),!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=a,r.addListener=a,r.once=a,r.off=a,r.removeListener=a,r.removeAllListeners=a,r.emit=a,r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],3:[function(t,e,n){"use strict";e.exports=function(){this.width=0,this.height=0,this.numPlays=0,this.playTime=0,this.frames=[],this.play=function(){a||i||(this.rewind(),a=!0,requestAnimationFrame(s))},this.rewind=function(){n=e=0,r=null,i=a=!1},this.addContext=function(t){if(0<o.length){var e=o[0].getImageData(0,0,this.width,this.height);t.putImageData(e,0,0)}o.push(t),t._apng_animation=this},this.removeContext=function(t){var e=o.indexOf(t);-1!==e&&(o.splice(e,1),0===o.length&&this.rewind(),"_apng_animation"in t&&delete t._apng_animation)},this.isPlayed=function(){return a},this.isFinished=function(){return i};var t=this,e=0,n=0,r=null,a=!1,i=!1,o=[],s=function(t){for(;a&&e<=t;)l(t);a&&requestAnimationFrame(s)},l=function(s){var l=n++%t.frames.length,c=t.frames[l];if(0==t.numPlays||n/t.frames.length<=t.numPlays){for(0==l&&(o.forEach((function(e){e.clearRect(0,0,t.width,t.height)})),r=null,2==c.disposeOp&&(c.disposeOp=1)),r&&1==r.disposeOp?o.forEach((function(t){t.clearRect(r.left,r.top,r.width,r.height)})):r&&2==r.disposeOp&&o.forEach((function(t){t.putImageData(r.iData,r.left,r.top)})),(r=c).iData=null,2==r.disposeOp&&(r.iData=o[0].getImageData(c.left,c.top,c.width,c.height)),0==c.blendOp&&o.forEach((function(t){t.clearRect(c.left,c.top,c.width,c.height)})),o.forEach((function(t){t.drawImage(c.img,c.left,c.top)})),0==e&&(e=s);s>e+t.playTime;)e+=t.playTime;e+=c.delay}else i=!(a=!1)}}},{}],4:[function(t,e,n){"use strict";for(var r=new Uint32Array(256),a=0;a<256;a++){for(var i=a,o=0;o<8;o++)i=1&i?3988292384^i>>>1:i>>>1;r[a]=i}e.exports=function(t,e,n){for(var a=-1,i=e=e||0,o=e+(n=n||t.length-e);i<o;i++)a=a>>>8^r[255&(a^t[i])];return-1^a}},{}],5:[function(t,e,n){(function(e){"use strict";var n=t("./support-test"),r=t("./parser"),a=t("./loader"),i=e.APNG={};i.checkNativeFeatures=n.checkNativeFeatures,i.ifNeeded=n.ifNeeded,i.parseBuffer=function(t){return r(t)};var o={};i.parseURL=function(t){return t in o||(o[t]=a(t).then(r)),o[t]},i.animateContext=function(t,e){return i.parseURL(t).then((function(t){return t.addContext(e),t.play(),t}))},i.animateImage=function(t){return t.setAttribute("data-is-apng","progress"),i.parseURL(t.src).then((function(e){t.setAttribute("data-is-apng","yes");var n=document.createElement("canvas");n.width=e.width,n.height=e.height,Array.prototype.slice.call(t.attributes).forEach((function(t){-1==["alt","src","usemap","ismap","data-is-apng","width","height"].indexOf(t.nodeName)&&n.setAttributeNode(t.cloneNode(!1))})),n.setAttribute("data-apng-src",t.src),""!=t.alt&&n.appendChild(document.createTextNode(t.alt));var r="",a="",i=0,o="";""!=t.style.width&&"auto"!=t.style.width?r=t.style.width:t.hasAttribute("width")&&(r=t.getAttribute("width")+"px"),""!=t.style.height&&"auto"!=t.style.height?a=t.style.height:t.hasAttribute("height")&&(a=t.getAttribute("height")+"px"),""!=r&&""==a&&(i=parseFloat(r),o=r.match(/\D+$/)[0],a=Math.round(n.height*i/n.width)+o),""!=a&&""==r&&(i=parseFloat(a),o=a.match(/\D+$/)[0],r=Math.round(n.width*i/n.height)+o),n.style.width=r,n.style.height=a;var s=t.parentNode;s.insertBefore(n,t),s.removeChild(t),e.addContext(n.getContext("2d")),e.play()}),(function(){t.setAttribute("data-is-apng","no")}))},i.releaseCanvas=function(t){var e=t.getContext("2d");"_apng_animation"in e&&e._apng_animation.removeContext(e)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./loader":6,"./parser":7,"./support-test":8}],6:[function(t,e,n){"use strict";var r=r||t("es6-promise").Promise;e.exports=function(t){return new r((function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="arraybuffer",r.onload=function(){200==this.status?e(this.response):n(this)},r.send()}))}},{"es6-promise":1}],7:[function(t,e,n){"use strict";var r=r||t("es6-promise").Promise,a=t("./animation"),i=t("./crc32"),o=new Uint8Array([137,80,78,71,13,10,26,10]);e.exports=function(t){var e=new Uint8Array(t);return new r((function(t,n){for(var r=0;r<o.length;r++)if(o[r]!=e[r])return void n("Not a PNG file (invalid file signature)");var i=!1;if(s(e,(function(t){return"acTL"!=t||!(i=!0)})),i){var f=[],g=[],p=null,_=null,v=new a;if(s(e,(function(t,e,n,r){switch(t){case"IHDR":p=e.subarray(n+8,n+8+r),v.width=l(e,n+8),v.height=l(e,n+12);break;case"acTL":v.numPlays=l(e,n+8+4);break;case"fcTL":_&&v.frames.push(_),(_={}).width=l(e,n+8+4),_.height=l(e,n+8+8),_.left=l(e,n+8+12),_.top=l(e,n+8+16);var a=c(e,n+8+20),i=c(e,n+8+22);0==i&&(i=100),_.delay=1e3*a/i,_.delay<=10&&(_.delay=100),v.playTime+=_.delay,_.disposeOp=d(e,n+8+24),_.blendOp=d(e,n+8+25),_.dataParts=[];break;case"fdAT":_&&_.dataParts.push(e.subarray(n+8+4,n+8+r));break;case"IDAT":_&&_.dataParts.push(e.subarray(n+8,n+8+r));break;case"IEND":g.push(u(e,n,12+r));break;default:f.push(u(e,n,12+r))}})),_&&v.frames.push(_),0!=v.frames.length)for(var w=0,b=new Blob(f),y=new Blob(g),k=0;k<v.frames.length;k++){_=v.frames[k];var A=[];A.push(o),p.set(h(_.width),0),p.set(h(_.height),4),A.push(m("IHDR",p)),A.push(b);for(var B=0;B<_.dataParts.length;B++)A.push(m("IDAT",_.dataParts[B]));A.push(y);var E=URL.createObjectURL(new Blob(A,{type:"image/png"}));delete _.dataParts,A=null,_.img=document.createElement("img"),_.img.onload=function(){URL.revokeObjectURL(this.src),++w==v.frames.length&&t(v)},_.img.onerror=function(){n("Image creation error")},_.img.src=E}else n("Not an animated PNG")}else n("Not an animated PNG")}))};var s=function(t,e){var n=8;do{var r=l(t,n),a=f(t,n+4,4),i=e(a,t,n,r);n+=12+r}while(!1!==i&&"IEND"!=a&&n<t.length)},l=function(t,e){var n=0;n+=t[0+e]<<24>>>0;for(var r=1;r<4;r++)n+=t[r+e]<<8*(3-r);return n},c=function(t,e){for(var n=0,r=0;r<2;r++)n+=t[r+e]<<8*(1-r);return n},d=function(t,e){return t[e]},u=function(t,e,n){var r=new Uint8Array(n);return r.set(t.subarray(e,e+n)),r},f=function(t,e,n){var r=Array.prototype.slice.call(t.subarray(e,e+n));return String.fromCharCode.apply(String,r)},h=function(t){return[t>>>24&255,t>>>16&255,t>>>8&255,255&t]},m=function(t,e){var n=t.length+e.length,r=new Uint8Array(new ArrayBuffer(n+8));r.set(h(e.length),0),r.set(function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e}(t),4),r.set(e,8);var a=i(r,4,n);return r.set(h(a),n+4),r}},{"./animation":3,"./crc32":4,"es6-promise":1}],8:[function(t,e,n){(function(n){"use strict";var r,a,i=i||t("es6-promise").Promise,o=(r=function(t){var e=document.createElement("canvas"),r={TypedArrays:"ArrayBuffer"in n,BlobURLs:"URL"in n,requestAnimationFrame:"requestAnimationFrame"in n,pageProtocol:"http:"==location.protocol||"https:"==location.protocol,canvas:"getContext"in document.createElement("canvas"),APNG:!1};if(r.canvas){var a=new Image;a.onload=function(){var n=e.getContext("2d");n.drawImage(a,0,0),r.APNG=0===n.getImageData(0,0,1,1).data[3],t(r)},a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg=="}else t(r)},a=null,function(t){return a=a||new i(r),t&&a.then(t),a});e.exports={checkNativeFeatures:o,ifNeeded:function(t){return void 0===t&&(t=!1),o().then((function(e){if(e.APNG&&!t)reject();else{var n=!0;for(var r in e)e.hasOwnProperty(r)&&"APNG"!=r&&(n=n&&e[r])}}))}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"es6-promise":1}]},{},[5])},function(t,e,n){(function(e){var r;r={},t.exports=r,function(t,e){t.toRGBA8=function(e){var n=e.width,r=e.height;if(null==e.tabs.acTL)return[t.toRGBA8.decodeImage(e.data,n,r,e).buffer];var a=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var i,o=new Uint8Array(n*r*4),s=0;s<e.frames.length;s++){var l=e.frames[s],c=l.rect.x,d=l.rect.y,u=l.rect.width,f=l.rect.height,h=t.toRGBA8.decodeImage(l.data,u,f,e);if(0==s?i=h:0==l.blend?t._copyTile(h,u,f,i,n,r,c,d,0):1==l.blend&&t._copyTile(h,u,f,i,n,r,c,d,1),a.push(i.buffer),i=i.slice(0),0==l.dispose);else if(1==l.dispose)t._copyTile(o,u,f,i,n,r,c,d,0);else if(2==l.dispose){for(var m=s-1;2==e.frames[m].dispose;)m--;i=new Uint8Array(a[m]).slice(0)}}return a},t.toRGBA8.decodeImage=function(e,n,r,a){var i=n*r,o=t.decode._getBPP(a),s=Math.ceil(n*o/8),l=new Uint8Array(4*i),c=new Uint32Array(l.buffer),d=a.ctype,u=a.depth,f=t._bin.readUshort;if(6==d){var h=i<<2;if(8==u)for(var m=0;m<h;m++)l[m]=e[m];if(16==u)for(m=0;m<h;m++)l[m]=e[m<<1]}else if(2==d){var g=a.tabs.tRNS,p=-1,_=-1,v=-1;if(g&&(p=g[0],_=g[1],v=g[2]),8==u)for(m=0;m<i;m++){var w=3*m;l[I=m<<2]=e[w],l[I+1]=e[w+1],l[I+2]=e[w+2],l[I+3]=255,-1!=p&&e[w]==p&&e[w+1]==_&&e[w+2]==v&&(l[I+3]=0)}if(16==u)for(m=0;m<i;m++)w=6*m,l[I=m<<2]=e[w],l[I+1]=e[w+2],l[I+2]=e[w+4],l[I+3]=255,-1!=p&&f(e,w)==p&&f(e,w+2)==_&&f(e,w+4)==v&&(l[I+3]=0)}else if(3==d){var b=a.tabs.PLTE,y=a.tabs.tRNS,k=y?y.length:0;if(1==u)for(var A=0;A<r;A++){var B=A*s,E=A*n;for(m=0;m<n;m++){var I=E+m<<2,x=3*(L=e[B+(m>>3)]>>7-((7&m)<<0)&1);l[I]=b[x],l[I+1]=b[x+1],l[I+2]=b[x+2],l[I+3]=L<k?y[L]:255}}if(2==u)for(A=0;A<r;A++)for(B=A*s,E=A*n,m=0;m<n;m++)I=E+m<<2,x=3*(L=e[B+(m>>2)]>>6-((3&m)<<1)&3),l[I]=b[x],l[I+1]=b[x+1],l[I+2]=b[x+2],l[I+3]=L<k?y[L]:255;if(4==u)for(A=0;A<r;A++)for(B=A*s,E=A*n,m=0;m<n;m++)I=E+m<<2,x=3*(L=e[B+(m>>1)]>>4-((1&m)<<2)&15),l[I]=b[x],l[I+1]=b[x+1],l[I+2]=b[x+2],l[I+3]=L<k?y[L]:255;if(8==u)for(m=0;m<i;m++){var L;I=m<<2,x=3*(L=e[m]),l[I]=b[x],l[I+1]=b[x+1],l[I+2]=b[x+2],l[I+3]=L<k?y[L]:255}}else if(4==d){if(8==u)for(m=0;m<i;m++){I=m<<2;var z=e[S=m<<1];l[I]=z,l[I+1]=z,l[I+2]=z,l[I+3]=e[S+1]}if(16==u)for(m=0;m<i;m++){var S;I=m<<2,z=e[S=m<<2],l[I]=z,l[I+1]=z,l[I+2]=z,l[I+3]=e[S+2]}}else if(0==d){if(p=a.tabs.tRNS?a.tabs.tRNS:-1,1==u)for(m=0;m<i;m++){var U=(z=255*(e[m>>3]>>7-(7&m)&1))==255*p?0:255;c[m]=U<<24|z<<16|z<<8|z}if(2==u)for(m=0;m<i;m++)U=(z=85*(e[m>>2]>>6-((3&m)<<1)&3))==85*p?0:255,c[m]=U<<24|z<<16|z<<8|z;if(4==u)for(m=0;m<i;m++)U=(z=17*(e[m>>1]>>4-((1&m)<<2)&15))==17*p?0:255,c[m]=U<<24|z<<16|z<<8|z;if(8==u)for(m=0;m<i;m++)U=(z=e[m])==p?0:255,c[m]=U<<24|z<<16|z<<8|z;if(16==u)for(m=0;m<i;m++)z=e[m<<1],U=f(e,m<<1)==p?0:255,c[m]=U<<24|z<<16|z<<8|z}return l},t.decode=function(e){for(var n,r=new Uint8Array(e),a=8,i=t._bin,o=i.readUshort,s=i.readUint,l={tabs:{},frames:[]},c=new Uint8Array(r.length),d=0,u=0,f=[137,80,78,71,13,10,26,10],h=0;h<8;h++)if(r[h]!=f[h])throw"The input is not a PNG file!";for(;a<r.length;){var m=i.readUint(r,a);a+=4;var g=i.readASCII(r,a,4);if(a+=4,"IHDR"==g)t.decode._IHDR(r,a,l);else if("IDAT"==g){for(h=0;h<m;h++)c[d+h]=r[a+h];d+=m}else if("acTL"==g)l.tabs[g]={num_frames:s(r,a),num_plays:s(r,a+4)},n=new Uint8Array(r.length);else if("fcTL"==g){0!=u&&((B=l.frames[l.frames.length-1]).data=t.decode._decompress(l,n.slice(0,u),B.rect.width,B.rect.height),u=0);var p={x:s(r,a+12),y:s(r,a+16),width:s(r,a+4),height:s(r,a+8)},_=o(r,a+22);_=o(r,a+20)/(0==_?100:_);var v={rect:p,delay:Math.round(1e3*_),dispose:r[a+24],blend:r[a+25]};l.frames.push(v)}else if("fdAT"==g){for(h=0;h<m-4;h++)n[u+h]=r[a+h+4];u+=m-4}else if("pHYs"==g)l.tabs[g]=[i.readUint(r,a),i.readUint(r,a+4),r[a+8]];else if("cHRM"==g)for(l.tabs[g]=[],h=0;h<8;h++)l.tabs[g].push(i.readUint(r,a+4*h));else if("tEXt"==g){null==l.tabs[g]&&(l.tabs[g]={});var w=i.nextZero(r,a),b=i.readASCII(r,a,w-a),y=i.readASCII(r,w+1,a+m-w-1);l.tabs[g][b]=y}else if("iTXt"==g){null==l.tabs[g]&&(l.tabs[g]={}),w=0;var k=a;w=i.nextZero(r,k),b=i.readASCII(r,k,w-k),r[k=w+1],r[k+1],k+=2,w=i.nextZero(r,k),i.readASCII(r,k,w-k),k=w+1,w=i.nextZero(r,k),i.readUTF8(r,k,w-k),k=w+1,y=i.readUTF8(r,k,m-(k-a)),l.tabs[g][b]=y}else if("PLTE"==g)l.tabs[g]=i.readBytes(r,a,m);else if("hIST"==g){var A=l.tabs.PLTE.length/3;for(l.tabs[g]=[],h=0;h<A;h++)l.tabs[g].push(o(r,a+2*h))}else if("tRNS"==g)3==l.ctype?l.tabs[g]=i.readBytes(r,a,m):0==l.ctype?l.tabs[g]=o(r,a):2==l.ctype&&(l.tabs[g]=[o(r,a),o(r,a+2),o(r,a+4)]);else if("gAMA"==g)l.tabs[g]=i.readUint(r,a)/1e5;else if("sRGB"==g)l.tabs[g]=r[a];else if("bKGD"==g)0==l.ctype||4==l.ctype?l.tabs[g]=[o(r,a)]:2==l.ctype||6==l.ctype?l.tabs[g]=[o(r,a),o(r,a+2),o(r,a+4)]:3==l.ctype&&(l.tabs[g]=r[a]);else if("IEND"==g){var B;0!=u&&((B=l.frames[l.frames.length-1]).data=t.decode._decompress(l,n.slice(0,u),B.rect.width,B.rect.height),u=0),l.data=t.decode._decompress(l,c,l.width,l.height);break}a+=m,i.readUint(r,a),a+=4}return delete l.compress,delete l.interlace,delete l.filter,l},t.decode._decompress=function(e,n,r,a){return 0==e.compress&&(n=t.decode._inflate(n)),0==e.interlace?n=t.decode._filterZero(n,e,0,r,a):1==e.interlace&&(n=t.decode._readInterlace(n,e)),n},t.decode._inflate=function(t){return e.inflate(t)},t.decode._readInterlace=function(e,n){for(var r=n.width,a=n.height,i=t.decode._getBPP(n),o=i>>3,s=Math.ceil(r*i/8),l=new Uint8Array(a*s),c=0,d=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],m=0;m<7;){for(var g=f[m],p=h[m],_=0,v=0,w=d[m];w<a;)w+=g,v++;for(var b=u[m];b<r;)b+=p,_++;var y=Math.ceil(_*i/8);t.decode._filterZero(e,n,c,_,v);for(var k=0,A=d[m];A<a;){for(var B=u[m],E=c+k*y<<3;B<r;){var I;if(1==i&&(I=(I=e[E>>3])>>7-(7&E)&1,l[A*s+(B>>3)]|=I<<7-((3&B)<<0)),2==i&&(I=(I=e[E>>3])>>6-(7&E)&3,l[A*s+(B>>2)]|=I<<6-((3&B)<<1)),4==i&&(I=(I=e[E>>3])>>4-(7&E)&15,l[A*s+(B>>1)]|=I<<4-((1&B)<<2)),i>=8)for(var x=A*s+B*o,L=0;L<o;L++)l[x+L]=e[(E>>3)+L];E+=i,B+=p}k++,A+=g}_*v!=0&&(c+=v*(1+y)),m+=1}return l},t.decode._getBPP=function(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth},t.decode._filterZero=function(e,n,r,a,i){var o=t.decode._getBPP(n),s=Math.ceil(a*o/8),l=t.decode._paeth;o=Math.ceil(o/8);for(var c=0;c<i;c++){var d=r+c*s,u=d+c+1,f=e[u-1];if(0==f)for(var h=0;h<s;h++)e[d+h]=e[u+h];else if(1==f){for(h=0;h<o;h++)e[d+h]=e[u+h];for(h=o;h<s;h++)e[d+h]=e[u+h]+e[d+h-o]&255}else if(0==c){for(h=0;h<o;h++)e[d+h]=e[u+h];if(2==f)for(h=o;h<s;h++)e[d+h]=255&e[u+h];if(3==f)for(h=o;h<s;h++)e[d+h]=e[u+h]+(e[d+h-o]>>1)&255;if(4==f)for(h=o;h<s;h++)e[d+h]=e[u+h]+l(e[d+h-o],0,0)&255}else{if(2==f)for(h=0;h<s;h++)e[d+h]=e[u+h]+e[d+h-s]&255;if(3==f){for(h=0;h<o;h++)e[d+h]=e[u+h]+(e[d+h-s]>>1)&255;for(h=o;h<s;h++)e[d+h]=e[u+h]+(e[d+h-s]+e[d+h-o]>>1)&255}if(4==f){for(h=0;h<o;h++)e[d+h]=e[u+h]+l(0,e[d+h-s],0)&255;for(h=o;h<s;h++)e[d+h]=e[u+h]+l(e[d+h-o],e[d+h-s],e[d+h-o-s])&255}}}return e},t.decode._paeth=function(t,e,n){var r=t+e-n,a=Math.abs(r-t),i=Math.abs(r-e),o=Math.abs(r-n);return a<=i&&a<=o?t:i<=o?e:n},t.decode._IHDR=function(e,n,r){var a=t._bin;r.width=a.readUint(e,n),n+=4,r.height=a.readUint(e,n),n+=4,r.depth=e[n],n++,r.ctype=e[n],n++,r.compress=e[n],n++,r.filter=e[n],n++,r.interlace=e[n],n++},t._bin={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},writeUshort:function(t,e,n){t[e]=n>>8&255,t[e+1]=255&n},readUint:function(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])},writeUint:function(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},readASCII:function(t,e,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(t[e+a]);return r},writeASCII:function(t,e,n){for(var r=0;r<n.length;r++)t[e+r]=n.charCodeAt(r)},readBytes:function(t,e,n){for(var r=[],a=0;a<n;a++)r.push(t[e+a]);return r},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(e,n,r){for(var a,i="",o=0;o<r;o++)i+="%"+t._bin.pad(e[n+o].toString(16));try{a=decodeURIComponent(i)}catch(a){return t._bin.readASCII(e,n,r)}return a}},t._copyTile=function(t,e,n,r,a,i,o,s,l){for(var c=Math.min(e,a),d=Math.min(n,i),u=0,f=0,h=0;h<d;h++)for(var m=0;m<c;m++)if(o>=0&&s>=0?(u=h*e+m<<2,f=(s+h)*a+o+m<<2):(u=(-s+h)*e-o+m<<2,f=h*a+m<<2),0==l)r[f]=t[u],r[f+1]=t[u+1],r[f+2]=t[u+2],r[f+3]=t[u+3];else if(1==l){var g=t[u+3]*(1/255),p=t[u]*g,_=t[u+1]*g,v=t[u+2]*g,w=r[f+3]*(1/255),b=r[f]*w,y=r[f+1]*w,k=r[f+2]*w,A=1-g,B=g+w*A,E=0==B?0:1/B;r[f+3]=255*B,r[f+0]=(p+b*A)*E,r[f+1]=(_+y*A)*E,r[f+2]=(v+k*A)*E}else if(2==l)g=t[u+3],p=t[u],_=t[u+1],v=t[u+2],w=r[f+3],b=r[f],y=r[f+1],k=r[f+2],g==w&&p==b&&_==y&&v==k?(r[f]=0,r[f+1]=0,r[f+2]=0,r[f+3]=0):(r[f]=p,r[f+1]=_,r[f+2]=v,r[f+3]=g);else if(3==l){if(g=t[u+3],p=t[u],_=t[u+1],v=t[u+2],w=r[f+3],b=r[f],y=r[f+1],k=r[f+2],g==w&&p==b&&_==y&&v==k)continue;if(g<220&&w>20)return!1}return!0},t.encode=function(e,n,r,a,i,o){null==a&&(a=0),null==o&&(o=!1);for(var s=new Uint8Array(e[0].byteLength*e.length+100),l=[137,80,78,71,13,10,26,10],c=0;c<8;c++)s[c]=l[c];var d=8,u=t._bin,f=t.crc.crc,h=u.writeUint,m=u.writeUshort,g=u.writeASCII,p=t.encode.compressPNG(e,n,r,a,o);h(s,d,13),g(s,d+=4,"IHDR"),h(s,d+=4,n),h(s,d+=4,r),s[d+=4]=p.depth,s[++d]=p.ctype,s[++d]=0,s[++d]=0,s[++d]=0,h(s,++d,f(s,d-17,17)),h(s,d+=4,1),g(s,d+=4,"sRGB"),s[d+=4]=1,h(s,++d,f(s,d-5,5)),d+=4;var _=e.length>1;if(_&&(h(s,d,8),g(s,d+=4,"acTL"),h(s,d+=4,e.length),h(s,d+=4,0),h(s,d+=4,f(s,d-12,12)),d+=4),3==p.ctype){for(h(s,d,3*(I=p.plte.length)),g(s,d+=4,"PLTE"),d+=4,c=0;c<I;c++){var v=3*c,w=p.plte[c],b=255&w,y=w>>8&255,k=w>>16&255;s[d+v+0]=b,s[d+v+1]=y,s[d+v+2]=k}if(h(s,d+=3*I,f(s,d-3*I-4,3*I+4)),d+=4,p.gotAlpha){for(h(s,d,I),g(s,d+=4,"tRNS"),d+=4,c=0;c<I;c++)s[d+c]=p.plte[c]>>24&255;h(s,d+=I,f(s,d-I-4,I+4)),d+=4}}for(var A=0,B=0;B<p.frames.length;B++){var E=p.frames[B];_&&(h(s,d,26),g(s,d+=4,"fcTL"),h(s,d+=4,A++),h(s,d+=4,E.rect.width),h(s,d+=4,E.rect.height),h(s,d+=4,E.rect.x),h(s,d+=4,E.rect.y),m(s,d+=4,i[B]),m(s,d+=2,1e3),s[d+=2]=E.dispose,s[++d]=E.blend,h(s,++d,f(s,d-30,30)),d+=4);var I,x=E.cimg;h(s,d,(I=x.length)+(0==B?0:4));var L=d+=4;for(g(s,d,0==B?"IDAT":"fdAT"),d+=4,0!=B&&(h(s,d,A++),d+=4),c=0;c<I;c++)s[d+c]=x[c];h(s,d+=I,f(s,L,d-L)),d+=4}return h(s,d,0),g(s,d+=4,"IEND"),h(s,d+=4,f(s,d-4,4)),d+=4,s.buffer.slice(0,d)},t.encode.compressPNG=function(e,n,r,a,i){for(var o=t.encode.compress(e,n,r,a,!1,i),s=0;s<e.length;s++){var l=o.frames[s],c=(l.rect.width,l.rect.height),d=l.bpl,u=l.bpp,f=new Uint8Array(c*d+c);l.cimg=t.encode._filterZero(l.img,c,u,d,f)}return o},t.encode.compress=function(e,n,r,a,i,o){null==o&&(o=!1);for(var s=6,l=8,c=4,d=255,u=0;u<e.length;u++)for(var f=new Uint8Array(e[u]),h=f.length,m=0;m<h;m+=4)d&=f[m+3];var g=255!=d,p={},_=[];if(0!=e.length&&(p[0]=0,_.push(0),0!=a&&a--),0!=a){var v=t.quantize(e,a,i);for(e=v.bufs,m=0;m<v.plte.length;m++)null==p[b=v.plte[m].est.rgba]&&(p[b]=_.length,_.push(b))}else for(u=0;u<e.length;u++){var w=new Uint32Array(e[u]);for(h=w.length,m=0;m<h;m++){var b=w[m];if((m<n||b!=w[m-1]&&b!=w[m-n])&&null==p[b]&&(p[b]=_.length,_.push(b),_.length>=300))break}}var y=!!g&&i,k=_.length;k<=256&&0==o&&(l=k<=2?1:k<=4?2:k<=16?4:8,i&&(l=8),g=!0);var A=[];for(u=0;u<e.length;u++){var B=new Uint8Array(e[u]),E=new Uint32Array(B.buffer),I=0,x=0,L=n,z=r,S=0;if(0!=u&&!y){for(var U=i||1==u||2==A[A.length-2].dispose?1:2,C=0,R=1e9,T=0;T<U;T++){for(var N=new Uint8Array(e[u-1-T]),D=new Uint32Array(e[u-1-T]),P=n,O=r,Z=-1,M=-1,F=0;F<r;F++)for(var j=0;j<n;j++)E[m=F*n+j]!=D[m]&&(j<P&&(P=j),j>Z&&(Z=j),F<O&&(O=F),F>M&&(M=F));var q=-1==Z?1:(Z-P+1)*(M-O+1);q<R&&(R=q,C=T,-1==Z?(I=x=0,L=z=1):(I=P,x=O,L=Z-P+1,z=M-O+1))}N=new Uint8Array(e[u-1-C]),1==C&&(A[A.length-1].dispose=2);var G=new Uint8Array(L*z*4);new Uint32Array(G.buffer),t._copyTile(N,n,r,G,L,z,-I,-x,0),t._copyTile(B,n,r,G,L,z,-I,-x,3)?(t._copyTile(B,n,r,G,L,z,-I,-x,2),S=1):(t._copyTile(B,n,r,G,L,z,-I,-x,0),S=0),B=G,E=new Uint32Array(B.buffer)}var H=4*L;if(k<=256&&0==o){for(H=Math.ceil(l*L/8),G=new Uint8Array(H*z),F=0;F<z;F++){m=F*H;var $=F*L;if(8==l)for(j=0;j<L;j++)G[m+j]=p[E[$+j]];else if(4==l)for(j=0;j<L;j++)G[m+(j>>1)]|=p[E[$+j]]<<4-4*(1&j);else if(2==l)for(j=0;j<L;j++)G[m+(j>>2)]|=p[E[$+j]]<<6-2*(3&j);else if(1==l)for(j=0;j<L;j++)G[m+(j>>3)]|=p[E[$+j]]<<7-1*(7&j)}B=G,s=3,c=1}else if(0==g&&1==e.length){G=new Uint8Array(L*z*3);var Y=L*z;for(m=0;m<Y;m++){var K=3*m,X=4*m;G[K]=B[X],G[K+1]=B[X+1],G[K+2]=B[X+2]}B=G,s=2,c=3,H=3*L}A.push({rect:{x:I,y:x,width:L,height:z},img:B,bpl:H,bpp:c,blend:S,dispose:y?1:0})}return{ctype:s,depth:l,plte:_,gotAlpha:g,frames:A}},t.encode._filterZero=function(n,r,a,i,o){for(var s=[],l=0;l<5;l++)if(!(r*i>5e5)||2!=l&&3!=l&&4!=l){for(var c=0;c<r;c++)t.encode._filterLine(o,n,c,i,a,l);if(s.push(e.deflate(o)),1==a)break}for(var d,u=1e9,f=0;f<s.length;f++)s[f].length<u&&(d=f,u=s[f].length);return s[d]},t.encode._filterLine=function(e,n,r,a,i,o){var s=r*a,l=s+r,c=t.decode._paeth;if(e[l]=o,l++,0==o)for(var d=0;d<a;d++)e[l+d]=n[s+d];else if(1==o){for(d=0;d<i;d++)e[l+d]=n[s+d];for(d=i;d<a;d++)e[l+d]=n[s+d]-n[s+d-i]+256&255}else if(0==r){for(d=0;d<i;d++)e[l+d]=n[s+d];if(2==o)for(d=i;d<a;d++)e[l+d]=n[s+d];if(3==o)for(d=i;d<a;d++)e[l+d]=n[s+d]-(n[s+d-i]>>1)+256&255;if(4==o)for(d=i;d<a;d++)e[l+d]=n[s+d]-c(n[s+d-i],0,0)+256&255}else{if(2==o)for(d=0;d<a;d++)e[l+d]=n[s+d]+256-n[s+d-a]&255;if(3==o){for(d=0;d<i;d++)e[l+d]=n[s+d]+256-(n[s+d-a]>>1)&255;for(d=i;d<a;d++)e[l+d]=n[s+d]+256-(n[s+d-a]+n[s+d-i]>>1)&255}if(4==o){for(d=0;d<i;d++)e[l+d]=n[s+d]+256-c(0,n[s+d-a],0)&255;for(d=i;d<a;d++)e[l+d]=n[s+d]+256-c(n[s+d-i],n[s+d-a],n[s+d-i-a])&255}}},t.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}(),update:function(e,n,r,a){for(var i=0;i<a;i++)e=t.crc.table[255&(e^n[r+i])]^e>>>8;return e},crc:function(e,n,r){return 4294967295^t.crc.update(4294967295,e,n,r)}},t.quantize=function(e,n,r){for(var a=[],i=0,o=0;o<e.length;o++)a.push(t.encode.alphaMul(new Uint8Array(e[o]),r)),i+=e[o].byteLength;var s=new Uint8Array(i),l=new Uint32Array(s.buffer),c=0;for(o=0;o<a.length;o++){for(var d=a[o],u=d.length,f=0;f<u;f++)s[c+f]=d[f];c+=u}var h={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};h.bst=t.quantize.stats(s,h.i0,h.i1),h.est=t.quantize.estats(h.bst);for(var m=[h];m.length<n;){var g=0,p=0;for(o=0;o<m.length;o++)m[o].est.L>g&&(g=m[o].est.L,p=o);if(g<.001)break;var _=m[p],v=t.quantize.splitPixels(s,l,_.i0,_.i1,_.est.e,_.est.eMq255),w={i0:_.i0,i1:v,bst:null,est:null,tdst:0,left:null,right:null};w.bst=t.quantize.stats(s,w.i0,w.i1),w.est=t.quantize.estats(w.bst);var b={i0:v,i1:_.i1,bst:null,est:null,tdst:0,left:null,right:null};for(b.bst={R:[],m:[],N:_.bst.N-w.bst.N},o=0;o<16;o++)b.bst.R[o]=_.bst.R[o]-w.bst.R[o];for(o=0;o<4;o++)b.bst.m[o]=_.bst.m[o]-w.bst.m[o];b.est=t.quantize.estats(b.bst),_.left=w,_.right=b,m[p]=w,m.push(b)}m.sort((function(t,e){return e.bst.N-t.bst.N}));for(var y=0;y<a.length;y++){var k=t.quantize.planeDst,A=new Uint8Array(a[y].buffer),B=new Uint32Array(a[y].buffer),E=A.length;for(o=0;o<E;o+=4){for(var I=A[o]*(1/255),x=A[o+1]*(1/255),L=A[o+2]*(1/255),z=A[o+3]*(1/255),S=h;S.left;)S=k(S.est,I,x,L,z)<=0?S.left:S.right;B[o>>2]=S.est.rgba}a[y]=B.buffer}return{bufs:a,plte:m}},t.quantize.getNearest=function(e,n,r,a,i){if(null==e.left)return e.tdst=t.quantize.dist(e.est.q,n,r,a,i),e;var o=t.quantize.planeDst(e.est,n,r,a,i),s=e.left,l=e.right;o>0&&(s=e.right,l=e.left);var c=t.quantize.getNearest(s,n,r,a,i);if(c.tdst<=o*o)return c;var d=t.quantize.getNearest(l,n,r,a,i);return d.tdst<c.tdst?d:c},t.quantize.planeDst=function(t,e,n,r,a){var i=t.e;return i[0]*e+i[1]*n+i[2]*r+i[3]*a-t.eMq},t.quantize.dist=function(t,e,n,r,a){var i=e-t[0],o=n-t[1],s=r-t[2],l=a-t[3];return i*i+o*o+s*s+l*l},t.quantize.splitPixels=function(e,n,r,a,i,o){var s=t.quantize.vecDot;for(a-=4;r<a;){for(;s(e,r,i)<=o;)r+=4;for(;s(e,a,i)>o;)a-=4;if(r>=a)break;var l=n[r>>2];n[r>>2]=n[a>>2],n[a>>2]=l,r+=4,a-=4}for(;s(e,r,i)>o;)r-=4;return r+4},t.quantize.vecDot=function(t,e,n){return t[e]*n[0]+t[e+1]*n[1]+t[e+2]*n[2]+t[e+3]*n[3]},t.quantize.stats=function(t,e,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0],i=n-e>>2,o=e;o<n;o+=4){var s=t[o]*(1/255),l=t[o+1]*(1/255),c=t[o+2]*(1/255),d=t[o+3]*(1/255);a[0]+=s,a[1]+=l,a[2]+=c,a[3]+=d,r[0]+=s*s,r[1]+=s*l,r[2]+=s*c,r[3]+=s*d,r[5]+=l*l,r[6]+=l*c,r[7]+=l*d,r[10]+=c*c,r[11]+=c*d,r[15]+=d*d}return r[4]=r[1],r[8]=r[2],r[12]=r[3],r[9]=r[6],r[13]=r[7],r[14]=r[11],{R:r,m:a,N:i}},t.quantize.estats=function(e){var n=e.R,r=e.m,a=e.N,i=r[0],o=r[1],s=r[2],l=r[3],c=0==a?0:1/a,d=[n[0]-i*i*c,n[1]-i*o*c,n[2]-i*s*c,n[3]-i*l*c,n[4]-o*i*c,n[5]-o*o*c,n[6]-o*s*c,n[7]-o*l*c,n[8]-s*i*c,n[9]-s*o*c,n[10]-s*s*c,n[11]-s*l*c,n[12]-l*i*c,n[13]-l*o*c,n[14]-l*s*c,n[15]-l*l*c],u=d,f=t.M4,h=[.5,.5,.5,.5],m=0,g=0;if(0!=a)for(var p=0;p<10&&(h=f.multVec(u,h),g=Math.sqrt(f.dot(h,h)),h=f.sml(1/g,h),!(Math.abs(g-m)<1e-9));p++)m=g;var _=[i*c,o*c,s*c,l*c],v=f.dot(f.sml(255,_),h),w=_[3]<.001?0:1/_[3];return{Cov:d,q:_,e:h,L:m,eMq255:v,eMq:f.dot(h,_),rgba:(Math.round(255*_[3])<<24|Math.round(255*_[2]*w)<<16|Math.round(255*_[1]*w)<<8|Math.round(255*_[0]*w)<<0)>>>0}},t.M4={multVec:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},sml:function(t,e){return[t*e[0],t*e[1],t*e[2],t*e[3]]}},t.encode.alphaMul=function(t,e){for(var n=new Uint8Array(t.length),r=t.length>>2,a=0;a<r;a++){var i=a<<2,o=t[i+3];e&&(o=o<128?0:255);var s=o*(1/255);n[i+0]=t[i+0]*s,n[i+1]=t[i+1]*s,n[i+2]=t[i+2]*s,n[i+3]=o}return n}}(r,n(13))}).call(this,n(12))},function(t,e){var n,r,a=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var l,c=[],d=!1,u=-1;function f(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&h())}function h(){if(!d){var t=s(f);d=!0;for(var e=c.length;e;){for(l=c,c=[];++u<e;)l&&l[u].run();u=-1,e=c.length}l=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||d||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){"use strict";var r={};(0,n(0).assign)(r,n(14),n(17),n(6)),t.exports=r},function(t,e,n){"use strict";var r=n(15),a=n(0),i=n(4),o=n(1),s=n(5),l=Object.prototype.toString,c=0,d=-1,u=0,f=8;function h(t){if(!(this instanceof h))return new h(t);this.options=a.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==c)throw new Error(o[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var m;if(m="string"==typeof e.dictionary?i.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=r.deflateSetDictionary(this.strm,m))!==c)throw new Error(o[n]);this._dict_set=!0}}function m(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}h.prototype.push=function(t,e){var n,o,s=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=i.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new a.Buf8(d),s.next_out=0,s.avail_out=d),1!==(n=r.deflate(s,o))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(i.buf2binstring(a.shrinkBuf(s.output,s.next_out))):this.onData(a.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),s.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=h,e.deflate=m,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,m(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,m(t,e)}},function(t,e,n){"use strict";var r,a=n(0),i=n(16),o=n(2),s=n(3),l=n(1),c=0,d=1,u=3,f=4,h=5,m=0,g=1,p=-2,_=-3,v=-5,w=-1,b=1,y=2,k=3,A=4,B=0,E=2,I=8,x=9,L=15,z=8,S=286,U=30,C=19,R=2*S+1,T=15,N=3,D=258,P=D+N+1,O=32,Z=42,M=69,F=73,j=91,q=103,G=113,H=666,$=1,Y=2,K=3,X=4,V=3;function W(t,e){return t.msg=l[e],e}function Q(t){return(t<<1)-(t>4?9:0)}function J(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(a.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){i._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function rt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function at(t,e){var n,r,a=t.max_chain_length,i=t.strstart,o=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-P?t.strstart-(t.w_size-P):0,c=t.window,d=t.w_mask,u=t.prev,f=t.strstart+D,h=c[i+o-1],m=c[i+o];t.prev_length>=t.good_match&&(a>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+o]===m&&c[n+o-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<f);if(r=D-(f-i),i=f-D,r>o){if(t.match_start=e,o=r,r>=s)break;h=c[i+o-1],m=c[i+o]}}}while((e=u[e&d])>l&&0!=--a);return o<=t.lookahead?o:t.lookahead}function it(t){var e,n,r,i,l,c,d,u,f,h,m=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=m+(m-P)){a.arraySet(t.window,t.window,m,m,0),t.match_start-=m,t.strstart-=m,t.block_start-=m,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=m?r-m:0}while(--n);e=n=m;do{r=t.prev[--e],t.prev[e]=r>=m?r-m:0}while(--n);i+=m}if(0===t.strm.avail_in)break;if(c=t.strm,d=t.window,u=t.strstart+t.lookahead,f=i,h=void 0,(h=c.avail_in)>f&&(h=f),n=0===h?0:(c.avail_in-=h,a.arraySet(d,c.input,c.next_in,h,u),1===c.state.wrap?c.adler=o(c.adler,d,h,u):2===c.state.wrap&&(c.adler=s(c.adler,d,h,u)),c.next_in+=h,c.total_in+=h,h),t.lookahead+=n,t.lookahead+t.insert>=N)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+N-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<N)););}while(t.lookahead<P&&0!==t.strm.avail_in)}function ot(t,e){for(var n,r;;){if(t.lookahead<P){if(it(t),t.lookahead<P&&e===c)return $;if(0===t.lookahead)break}if(n=0,t.lookahead>=N&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-P&&(t.match_length=at(t,n)),t.match_length>=N)if(r=i._tr_tally(t,t.strstart-t.match_start,t.match_length-N),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=N){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=t.strstart<N-1?t.strstart:N-1,e===f?(et(t,!0),0===t.strm.avail_out?K:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:Y}function st(t,e){for(var n,r,a;;){if(t.lookahead<P){if(it(t),t.lookahead<P&&e===c)return $;if(0===t.lookahead)break}if(n=0,t.lookahead>=N&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=N-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-P&&(t.match_length=at(t,n),t.match_length<=5&&(t.strategy===b||t.match_length===N&&t.strstart-t.match_start>4096)&&(t.match_length=N-1)),t.prev_length>=N&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-N,r=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-N),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=N-1,t.strstart++,r&&(et(t,!1),0===t.strm.avail_out))return $}else if(t.match_available){if((r=i._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return $}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<N-1?t.strstart:N-1,e===f?(et(t,!0),0===t.strm.avail_out?K:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:Y}function lt(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*R),this.dyn_dtree=new a.Buf16(2*(2*U+1)),this.bl_tree=new a.Buf16(2*(2*C+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(T+1),this.heap=new a.Buf16(2*S+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*S+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=E,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Z:G,t.adler=2===e.wrap?0:1,e.last_flush=c,i._tr_init(e),m):W(t,p)}function ut(t){var e,n=dt(t);return n===m&&((e=t.state).window_size=2*e.w_size,J(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=N-1,e.match_available=0,e.ins_h=0),n}function ft(t,e,n,r,i,o){if(!t)return p;var s=1;if(e===w&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>x||n!==I||r<8||r>15||e<0||e>9||o<0||o>A)return W(t,p);8===r&&(r=9);var l=new ct;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+N-1)/N),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=o,l.method=n,ut(t)}r=[new lt(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(it(t),0===t.lookahead&&e===c)return $;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,et(t,!1),0===t.strm.avail_out))return $;if(t.strstart-t.block_start>=t.w_size-P&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?K:X):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),$)})),new lt(4,4,8,4,ot),new lt(4,5,16,8,ot),new lt(4,6,32,32,ot),new lt(4,4,16,16,st),new lt(8,16,32,32,st),new lt(8,16,128,128,st),new lt(8,32,128,256,st),new lt(32,128,258,1024,st),new lt(32,258,258,4096,st)],e.deflateInit=function(t,e){return ft(t,e,I,L,z,B)},e.deflateInit2=ft,e.deflateReset=ut,e.deflateResetKeep=dt,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?p:(t.state.gzhead=e,m):p},e.deflate=function(t,e){var n,a,o,l;if(!t||!t.state||e>h||e<0)return t?W(t,p):p;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===H&&e!==f)return W(t,0===t.avail_out?v:p);if(a.strm=t,n=a.last_flush,a.last_flush=e,a.status===Z)if(2===a.wrap)t.adler=0,nt(a,31),nt(a,139),nt(a,8),a.gzhead?(nt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),nt(a,255&a.gzhead.time),nt(a,a.gzhead.time>>8&255),nt(a,a.gzhead.time>>16&255),nt(a,a.gzhead.time>>24&255),nt(a,9===a.level?2:a.strategy>=y||a.level<2?4:0),nt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(nt(a,255&a.gzhead.extra.length),nt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=s(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=M):(nt(a,0),nt(a,0),nt(a,0),nt(a,0),nt(a,0),nt(a,9===a.level?2:a.strategy>=y||a.level<2?4:0),nt(a,V),a.status=G);else{var _=I+(a.w_bits-8<<4)<<8;_|=(a.strategy>=y||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(_|=O),_+=31-_%31,a.status=G,rt(a,_),0!==a.strstart&&(rt(a,t.adler>>>16),rt(a,65535&t.adler)),t.adler=1}if(a.status===M)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(t.adler=s(t.adler,a.pending_buf,a.pending-o,o)),tt(t),o=a.pending,a.pending!==a.pending_buf_size));)nt(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(t.adler=s(t.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=F)}else a.status=F;if(a.status===F)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(t.adler=s(t.adler,a.pending_buf,a.pending-o,o)),tt(t),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,nt(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(t.adler=s(t.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.gzindex=0,a.status=j)}else a.status=j;if(a.status===j)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(t.adler=s(t.adler,a.pending_buf,a.pending-o,o)),tt(t),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,nt(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(t.adler=s(t.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.status=q)}else a.status=q;if(a.status===q&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&tt(t),a.pending+2<=a.pending_buf_size&&(nt(a,255&t.adler),nt(a,t.adler>>8&255),t.adler=0,a.status=G)):a.status=G),0!==a.pending){if(tt(t),0===t.avail_out)return a.last_flush=-1,m}else if(0===t.avail_in&&Q(e)<=Q(n)&&e!==f)return W(t,v);if(a.status===H&&0!==t.avail_in)return W(t,v);if(0!==t.avail_in||0!==a.lookahead||e!==c&&a.status!==H){var w=a.strategy===y?function(t,e){for(var n;;){if(0===t.lookahead&&(it(t),0===t.lookahead)){if(e===c)return $;break}if(t.match_length=0,n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?K:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:Y}(a,e):a.strategy===k?function(t,e){for(var n,r,a,o,s=t.window;;){if(t.lookahead<=D){if(it(t),t.lookahead<=D&&e===c)return $;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=N&&t.strstart>0&&(r=s[a=t.strstart-1])===s[++a]&&r===s[++a]&&r===s[++a]){o=t.strstart+D;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<o);t.match_length=D-(o-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=N?(n=i._tr_tally(t,1,t.match_length-N),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?K:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:Y}(a,e):r[a.level].func(a,e);if(w!==K&&w!==X||(a.status=H),w===$||w===K)return 0===t.avail_out&&(a.last_flush=-1),m;if(w===Y&&(e===d?i._tr_align(a):e!==h&&(i._tr_stored_block(a,0,0,!1),e===u&&(J(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),tt(t),0===t.avail_out))return a.last_flush=-1,m}return e!==f?m:a.wrap<=0?g:(2===a.wrap?(nt(a,255&t.adler),nt(a,t.adler>>8&255),nt(a,t.adler>>16&255),nt(a,t.adler>>24&255),nt(a,255&t.total_in),nt(a,t.total_in>>8&255),nt(a,t.total_in>>16&255),nt(a,t.total_in>>24&255)):(rt(a,t.adler>>>16),rt(a,65535&t.adler)),tt(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?m:g)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==Z&&e!==M&&e!==F&&e!==j&&e!==q&&e!==G&&e!==H?W(t,p):(t.state=null,e===G?W(t,_):m):p},e.deflateSetDictionary=function(t,e){var n,r,i,s,l,c,d,u,f=e.length;if(!t||!t.state)return p;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==Z||n.lookahead)return p;for(1===s&&(t.adler=o(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new a.Buf8(n.w_size),a.arraySet(u,e,f-n.w_size,n.w_size,0),e=u,f=n.w_size),l=t.avail_in,c=t.next_in,d=t.input,t.avail_in=f,t.next_in=0,t.input=e,it(n);n.lookahead>=N;){r=n.strstart,i=n.lookahead-(N-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+N-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=N-1,it(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=N-1,n.match_available=0,t.next_in=c,t.input=d,t.avail_in=l,n.wrap=s,m},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(0),a=4,i=0,o=1,s=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var c=0,d=1,u=2,f=29,h=256,m=h+1+f,g=30,p=19,_=2*m+1,v=15,w=16,b=7,y=256,k=16,A=17,B=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(m+2));l(z);var S=new Array(2*g);l(S);var U=new Array(512);l(U);var C=new Array(256);l(C);var R=new Array(f);l(R);var T,N,D,P=new Array(g);function O(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}function Z(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function M(t){return t<256?U[t]:U[256+(t>>>7)]}function F(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function j(t,e,n){t.bi_valid>w-n?(t.bi_buf|=e<<t.bi_valid&65535,F(t,t.bi_buf),t.bi_buf=e>>w-t.bi_valid,t.bi_valid+=n-w):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function q(t,e,n){j(t,n[2*e],n[2*e+1])}function G(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function H(t,e,n){var r,a,i=new Array(v+1),o=0;for(r=1;r<=v;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=e;a++){var s=t[2*a+1];0!==s&&(t[2*a]=G(i[s]++,s))}}function $(t){var e;for(e=0;e<m;e++)t.dyn_ltree[2*e]=0;for(e=0;e<g;e++)t.dyn_dtree[2*e]=0;for(e=0;e<p;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*y]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Y(t){t.bi_valid>8?F(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function K(t,e,n,r){var a=2*e,i=2*n;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]}function X(t,e,n){for(var r=t.heap[n],a=n<<1;a<=t.heap_len&&(a<t.heap_len&&K(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!K(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r}function V(t,e,n){var r,a,i,o,s=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],a=t.pending_buf[t.l_buf+s],s++,0===r?q(t,a,e):(q(t,(i=C[a])+h+1,e),0!==(o=E[i])&&j(t,a-=R[i],o),q(t,i=M(--r),n),0!==(o=I[i])&&j(t,r-=P[i],o))}while(s<t.last_lit);q(t,y,e)}function W(t,e){var n,r,a,i=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=_,n=0;n<l;n++)0!==i[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(a=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[a]=0,t.opt_len--,s&&(t.static_len-=o[2*a+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)X(t,i,n);a=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],X(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*a]=i[2*n]+i[2*r],t.depth[a]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=a,t.heap[1]=a++,X(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,a,i,o,s,l=e.dyn_tree,c=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,m=e.stat_desc.max_length,g=0;for(i=0;i<=v;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<_;n++)(i=l[2*l[2*(r=t.heap[n])+1]+1]+1)>m&&(i=m,g++),l[2*r+1]=i,r>c||(t.bl_count[i]++,o=0,r>=h&&(o=f[r-h]),s=l[2*r],t.opt_len+=s*(i+o),u&&(t.static_len+=s*(d[2*r+1]+o)));if(0!==g){do{for(i=m-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[m]--,g-=2}while(g>0);for(i=m;0!==i;i--)for(r=t.bl_count[i];0!==r;)(a=t.heap[--n])>c||(l[2*a+1]!==i&&(t.opt_len+=(i-l[2*a+1])*l[2*a],l[2*a+1]=i),r--)}}(t,e),H(i,c,t.bl_count)}function Q(t,e,n){var r,a,i=-1,o=e[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=e[2*(r+1)+1],++s<l&&a===o||(s<c?t.bl_tree[2*a]+=s:0!==a?(a!==i&&t.bl_tree[2*a]++,t.bl_tree[2*k]++):s<=10?t.bl_tree[2*A]++:t.bl_tree[2*B]++,s=0,i=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))}function J(t,e,n){var r,a,i=-1,o=e[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=n;r++)if(a=o,o=e[2*(r+1)+1],!(++s<l&&a===o)){if(s<c)do{q(t,a,t.bl_tree)}while(0!=--s);else 0!==a?(a!==i&&(q(t,a,t.bl_tree),s--),q(t,k,t.bl_tree),j(t,s-3,2)):s<=10?(q(t,A,t.bl_tree),j(t,s-3,3)):(q(t,B,t.bl_tree),j(t,s-11,7));s=0,i=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}}l(P);var tt=!1;function et(t,e,n,a){j(t,(c<<1)+(a?1:0),3),function(t,e,n,a){Y(t),a&&(F(t,n),F(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(!function(){var t,e,n,r,a,i=new Array(v+1);for(n=0,r=0;r<f-1;r++)for(R[r]=n,t=0;t<1<<E[r];t++)C[n++]=r;for(C[n-1]=r,a=0,r=0;r<16;r++)for(P[r]=a,t=0;t<1<<I[r];t++)U[a++]=r;for(a>>=7;r<g;r++)for(P[r]=a<<7,t=0;t<1<<I[r]-7;t++)U[256+a++]=r;for(e=0;e<=v;e++)i[e]=0;for(t=0;t<=143;)z[2*t+1]=8,t++,i[8]++;for(;t<=255;)z[2*t+1]=9,t++,i[9]++;for(;t<=279;)z[2*t+1]=7,t++,i[7]++;for(;t<=287;)z[2*t+1]=8,t++,i[8]++;for(H(z,m+1,i),t=0;t<g;t++)S[2*t+1]=5,S[2*t]=G(t,5);T=new O(z,E,h+1,m,v),N=new O(S,I,0,g,v),D=new O(new Array(0),x,0,p,b)}(),tt=!0),t.l_desc=new Z(t.dyn_ltree,T),t.d_desc=new Z(t.dyn_dtree,N),t.bl_desc=new Z(t.bl_tree,D),t.bi_buf=0,t.bi_valid=0,$(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,r){var l,c,f=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return i;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<h;e++)if(0!==t.dyn_ltree[2*e])return o;return i}(t)),W(t,t.l_desc),W(t,t.d_desc),f=function(t){var e;for(Q(t,t.dyn_ltree,t.l_desc.max_code),Q(t,t.dyn_dtree,t.d_desc.max_code),W(t,t.bl_desc),e=p-1;e>=3&&0===t.bl_tree[2*L[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),l=t.opt_len+3+7>>>3,(c=t.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==e?et(t,e,n,r):t.strategy===a||c===l?(j(t,(d<<1)+(r?1:0),3),V(t,z,S)):(j(t,(u<<1)+(r?1:0),3),function(t,e,n,r){var a;for(j(t,e-257,5),j(t,n-1,5),j(t,r-4,4),a=0;a<r;a++)j(t,t.bl_tree[2*L[a]+1],3);J(t,t.dyn_ltree,e-1),J(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,f+1),V(t,t.dyn_ltree,t.dyn_dtree)),$(t),r&&Y(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(C[n]+h+1)]++,t.dyn_dtree[2*M(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){j(t,d<<1,3),q(t,y,z),function(t){16===t.bi_valid?(F(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var r=n(18),a=n(0),i=n(4),o=n(6),s=n(1),l=n(5),c=n(21),d=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=i.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(s[n])}function f(t,e){var n=new u(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}u.prototype.push=function(t,e){var n,s,l,c,u,f=this.strm,h=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?f.input=i.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(h),f.next_out=0,f.avail_out=h),(n=r.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(n=r.inflateSetDictionary(this.strm,m)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==o.Z_STREAM_END&&(0!==f.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(f.output,f.next_out),c=f.next_out-l,u=i.buf2string(f.output,l),f.next_out=c,f.avail_out=h-c,c&&a.arraySet(f.output,f.output,l,c,0),this.onData(u)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),f.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=u,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,n){"use strict";var r=n(0),a=n(2),i=n(3),o=n(19),s=n(20),l=0,c=1,d=2,u=4,f=5,h=6,m=0,g=1,p=2,_=-2,v=-3,w=-4,b=-5,y=8,k=1,A=2,B=3,E=4,I=5,x=6,L=7,z=8,S=9,U=10,C=11,R=12,T=13,N=14,D=15,P=16,O=17,Z=18,M=19,F=20,j=21,q=22,G=23,H=24,$=25,Y=26,K=27,X=28,V=29,W=30,Q=31,J=32,tt=852,et=592,nt=15;function rt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function at(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function it(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=k,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(tt),e.distcode=e.distdyn=new r.Buf32(et),e.sane=1,e.back=-1,m):_}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,it(t)):_}function st(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,ot(t))):_}function lt(t,e){var n,r;return t?(r=new at,t.state=r,r.window=null,(n=st(t,e))!==m&&(t.state=null),n):_}var ct,dt,ut=!0;function ft(t){if(ut){var e;for(ct=new r.Buf32(512),dt=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(c,t.lens,0,288,ct,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(d,t.lens,0,32,dt,0,t.work,{bits:5}),ut=!1}t.lencode=ct,t.lenbits=9,t.distcode=dt,t.distbits=5}function ht(t,e,n,a){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),a>=o.wsize?(r.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>a&&(i=a),r.arraySet(o.window,e,n-a,i,o.wnext),(a-=i)?(r.arraySet(o.window,e,n-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}e.inflateReset=ot,e.inflateReset2=st,e.inflateResetKeep=it,e.inflateInit=function(t){return lt(t,nt)},e.inflateInit2=lt,e.inflate=function(t,e){var n,tt,et,nt,at,it,ot,st,lt,ct,dt,ut,mt,gt,pt,_t,vt,wt,bt,yt,kt,At,Bt,Et,It=0,xt=new r.Buf8(4),Lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return _;(n=t.state).mode===R&&(n.mode=T),at=t.next_out,et=t.output,ot=t.avail_out,nt=t.next_in,tt=t.input,it=t.avail_in,st=n.hold,lt=n.bits,ct=it,dt=ot,At=m;t:for(;;)switch(n.mode){case k:if(0===n.wrap){n.mode=T;break}for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(2&n.wrap&&35615===st){n.check=0,xt[0]=255&st,xt[1]=st>>>8&255,n.check=i(n.check,xt,2,0),st=0,lt=0,n.mode=A;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",n.mode=W;break}if((15&st)!==y){t.msg="unknown compression method",n.mode=W;break}if(lt-=4,kt=8+(15&(st>>>=4)),0===n.wbits)n.wbits=kt;else if(kt>n.wbits){t.msg="invalid window size",n.mode=W;break}n.dmax=1<<kt,t.adler=n.check=1,n.mode=512&st?U:R,st=0,lt=0;break;case A:for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(n.flags=st,(255&n.flags)!==y){t.msg="unknown compression method",n.mode=W;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=W;break}n.head&&(n.head.text=st>>8&1),512&n.flags&&(xt[0]=255&st,xt[1]=st>>>8&255,n.check=i(n.check,xt,2,0)),st=0,lt=0,n.mode=B;case B:for(;lt<32;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.time=st),512&n.flags&&(xt[0]=255&st,xt[1]=st>>>8&255,xt[2]=st>>>16&255,xt[3]=st>>>24&255,n.check=i(n.check,xt,4,0)),st=0,lt=0,n.mode=E;case E:for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.xflags=255&st,n.head.os=st>>8),512&n.flags&&(xt[0]=255&st,xt[1]=st>>>8&255,n.check=i(n.check,xt,2,0)),st=0,lt=0,n.mode=I;case I:if(1024&n.flags){for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.length=st,n.head&&(n.head.extra_len=st),512&n.flags&&(xt[0]=255&st,xt[1]=st>>>8&255,n.check=i(n.check,xt,2,0)),st=0,lt=0}else n.head&&(n.head.extra=null);n.mode=x;case x:if(1024&n.flags&&((ut=n.length)>it&&(ut=it),ut&&(n.head&&(kt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,tt,nt,ut,kt)),512&n.flags&&(n.check=i(n.check,tt,ut,nt)),it-=ut,nt+=ut,n.length-=ut),n.length))break t;n.length=0,n.mode=L;case L:if(2048&n.flags){if(0===it)break t;ut=0;do{kt=tt[nt+ut++],n.head&&kt&&n.length<65536&&(n.head.name+=String.fromCharCode(kt))}while(kt&&ut<it);if(512&n.flags&&(n.check=i(n.check,tt,ut,nt)),it-=ut,nt+=ut,kt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=z;case z:if(4096&n.flags){if(0===it)break t;ut=0;do{kt=tt[nt+ut++],n.head&&kt&&n.length<65536&&(n.head.comment+=String.fromCharCode(kt))}while(kt&&ut<it);if(512&n.flags&&(n.check=i(n.check,tt,ut,nt)),it-=ut,nt+=ut,kt)break t}else n.head&&(n.head.comment=null);n.mode=S;case S:if(512&n.flags){for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(st!==(65535&n.check)){t.msg="header crc mismatch",n.mode=W;break}st=0,lt=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=R;break;case U:for(;lt<32;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}t.adler=n.check=rt(st),st=0,lt=0,n.mode=C;case C:if(0===n.havedict)return t.next_out=at,t.avail_out=ot,t.next_in=nt,t.avail_in=it,n.hold=st,n.bits=lt,p;t.adler=n.check=1,n.mode=R;case R:if(e===f||e===h)break t;case T:if(n.last){st>>>=7&lt,lt-=7&lt,n.mode=K;break}for(;lt<3;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}switch(n.last=1&st,lt-=1,3&(st>>>=1)){case 0:n.mode=N;break;case 1:if(ft(n),n.mode=F,e===h){st>>>=2,lt-=2;break t}break;case 2:n.mode=O;break;case 3:t.msg="invalid block type",n.mode=W}st>>>=2,lt-=2;break;case N:for(st>>>=7&lt,lt-=7&lt;lt<32;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if((65535&st)!=(st>>>16^65535)){t.msg="invalid stored block lengths",n.mode=W;break}if(n.length=65535&st,st=0,lt=0,n.mode=D,e===h)break t;case D:n.mode=P;case P:if(ut=n.length){if(ut>it&&(ut=it),ut>ot&&(ut=ot),0===ut)break t;r.arraySet(et,tt,nt,ut,at),it-=ut,nt+=ut,ot-=ut,at+=ut,n.length-=ut;break}n.mode=R;break;case O:for(;lt<14;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(n.nlen=257+(31&st),st>>>=5,lt-=5,n.ndist=1+(31&st),st>>>=5,lt-=5,n.ncode=4+(15&st),st>>>=4,lt-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=W;break}n.have=0,n.mode=Z;case Z:for(;n.have<n.ncode;){for(;lt<3;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.lens[Lt[n.have++]]=7&st,st>>>=3,lt-=3}for(;n.have<19;)n.lens[Lt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Bt={bits:n.lenbits},At=s(l,n.lens,0,19,n.lencode,0,n.work,Bt),n.lenbits=Bt.bits,At){t.msg="invalid code lengths set",n.mode=W;break}n.have=0,n.mode=M;case M:for(;n.have<n.nlen+n.ndist;){for(;_t=(It=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,vt=65535&It,!((pt=It>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(vt<16)st>>>=pt,lt-=pt,n.lens[n.have++]=vt;else{if(16===vt){for(Et=pt+2;lt<Et;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(st>>>=pt,lt-=pt,0===n.have){t.msg="invalid bit length repeat",n.mode=W;break}kt=n.lens[n.have-1],ut=3+(3&st),st>>>=2,lt-=2}else if(17===vt){for(Et=pt+3;lt<Et;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}lt-=pt,kt=0,ut=3+(7&(st>>>=pt)),st>>>=3,lt-=3}else{for(Et=pt+7;lt<Et;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}lt-=pt,kt=0,ut=11+(127&(st>>>=pt)),st>>>=7,lt-=7}if(n.have+ut>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=W;break}for(;ut--;)n.lens[n.have++]=kt}}if(n.mode===W)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=W;break}if(n.lenbits=9,Bt={bits:n.lenbits},At=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,Bt),n.lenbits=Bt.bits,At){t.msg="invalid literal/lengths set",n.mode=W;break}if(n.distbits=6,n.distcode=n.distdyn,Bt={bits:n.distbits},At=s(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Bt),n.distbits=Bt.bits,At){t.msg="invalid distances set",n.mode=W;break}if(n.mode=F,e===h)break t;case F:n.mode=j;case j:if(it>=6&&ot>=258){t.next_out=at,t.avail_out=ot,t.next_in=nt,t.avail_in=it,n.hold=st,n.bits=lt,o(t,dt),at=t.next_out,et=t.output,ot=t.avail_out,nt=t.next_in,tt=t.input,it=t.avail_in,st=n.hold,lt=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;_t=(It=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,vt=65535&It,!((pt=It>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(_t&&0==(240&_t)){for(wt=pt,bt=_t,yt=vt;_t=(It=n.lencode[yt+((st&(1<<wt+bt)-1)>>wt)])>>>16&255,vt=65535&It,!(wt+(pt=It>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}st>>>=wt,lt-=wt,n.back+=wt}if(st>>>=pt,lt-=pt,n.back+=pt,n.length=vt,0===_t){n.mode=Y;break}if(32&_t){n.back=-1,n.mode=R;break}if(64&_t){t.msg="invalid literal/length code",n.mode=W;break}n.extra=15&_t,n.mode=q;case q:if(n.extra){for(Et=n.extra;lt<Et;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.length+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=G;case G:for(;_t=(It=n.distcode[st&(1<<n.distbits)-1])>>>16&255,vt=65535&It,!((pt=It>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(0==(240&_t)){for(wt=pt,bt=_t,yt=vt;_t=(It=n.distcode[yt+((st&(1<<wt+bt)-1)>>wt)])>>>16&255,vt=65535&It,!(wt+(pt=It>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}st>>>=wt,lt-=wt,n.back+=wt}if(st>>>=pt,lt-=pt,n.back+=pt,64&_t){t.msg="invalid distance code",n.mode=W;break}n.offset=vt,n.extra=15&_t,n.mode=H;case H:if(n.extra){for(Et=n.extra;lt<Et;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.offset+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=W;break}n.mode=$;case $:if(0===ot)break t;if(ut=dt-ot,n.offset>ut){if((ut=n.offset-ut)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=W;break}ut>n.wnext?(ut-=n.wnext,mt=n.wsize-ut):mt=n.wnext-ut,ut>n.length&&(ut=n.length),gt=n.window}else gt=et,mt=at-n.offset,ut=n.length;ut>ot&&(ut=ot),ot-=ut,n.length-=ut;do{et[at++]=gt[mt++]}while(--ut);0===n.length&&(n.mode=j);break;case Y:if(0===ot)break t;et[at++]=n.length,ot--,n.mode=j;break;case K:if(n.wrap){for(;lt<32;){if(0===it)break t;it--,st|=tt[nt++]<<lt,lt+=8}if(dt-=ot,t.total_out+=dt,n.total+=dt,dt&&(t.adler=n.check=n.flags?i(n.check,et,dt,at-dt):a(n.check,et,dt,at-dt)),dt=ot,(n.flags?st:rt(st))!==n.check){t.msg="incorrect data check",n.mode=W;break}st=0,lt=0}n.mode=X;case X:if(n.wrap&&n.flags){for(;lt<32;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(st!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=W;break}st=0,lt=0}n.mode=V;case V:At=g;break t;case W:At=v;break t;case Q:return w;case J:default:return _}return t.next_out=at,t.avail_out=ot,t.next_in=nt,t.avail_in=it,n.hold=st,n.bits=lt,(n.wsize||dt!==t.avail_out&&n.mode<W&&(n.mode<K||e!==u))&&ht(t,t.output,t.next_out,dt-t.avail_out)?(n.mode=Q,w):(ct-=t.avail_in,dt-=t.avail_out,t.total_in+=ct,t.total_out+=dt,n.total+=dt,n.wrap&&dt&&(t.adler=n.check=n.flags?i(n.check,et,dt,t.next_out-dt):a(n.check,et,dt,t.next_out-dt)),t.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(n.mode===F||n.mode===D?256:0),(0===ct&&0===dt||e===u)&&At===m&&(At=b),At)},e.inflateEnd=function(t){if(!t||!t.state)return _;var e=t.state;return e.window&&(e.window=null),t.state=null,m},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?_:(n.head=e,e.done=!1,m):_},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==C?_:n.mode===C&&a(1,e,r,0)!==n.check?v:ht(t,e,r,r)?(n.mode=Q,w):(n.havedict=1,m):_},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,a,i,o,s,l,c,d,u,f,h,m,g,p,_,v,w,b,y,k,A,B,E,I;n=t.state,r=t.next_in,E=t.input,a=r+(t.avail_in-5),i=t.next_out,I=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,u=n.wnext,f=n.window,h=n.hold,m=n.bits,g=n.lencode,p=n.distcode,_=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{m<15&&(h+=E[r++]<<m,m+=8,h+=E[r++]<<m,m+=8),w=g[h&_];e:for(;;){if(h>>>=b=w>>>24,m-=b,0===(b=w>>>16&255))I[i++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=g[(65535&w)+(h&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}y=65535&w,(b&=15)&&(m<b&&(h+=E[r++]<<m,m+=8),y+=h&(1<<b)-1,h>>>=b,m-=b),m<15&&(h+=E[r++]<<m,m+=8,h+=E[r++]<<m,m+=8),w=p[h&v];n:for(;;){if(h>>>=b=w>>>24,m-=b,!(16&(b=w>>>16&255))){if(0==(64&b)){w=p[(65535&w)+(h&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&w,m<(b&=15)&&(h+=E[r++]<<m,(m+=8)<b&&(h+=E[r++]<<m,m+=8)),(k+=h&(1<<b)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=b,m-=b,k>(b=i-o)){if((b=k-b)>d&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(A=0,B=f,0===u){if(A+=c-b,b<y){y-=b;do{I[i++]=f[A++]}while(--b);A=i-k,B=I}}else if(u<b){if(A+=c+u-b,(b-=u)<y){y-=b;do{I[i++]=f[A++]}while(--b);if(A=0,u<y){y-=b=u;do{I[i++]=f[A++]}while(--b);A=i-k,B=I}}}else if(A+=u-b,b<y){y-=b;do{I[i++]=f[A++]}while(--b);A=i-k,B=I}for(;y>2;)I[i++]=B[A++],I[i++]=B[A++],I[i++]=B[A++],y-=3;y&&(I[i++]=B[A++],y>1&&(I[i++]=B[A++]))}else{A=i-k;do{I[i++]=I[A++],I[i++]=I[A++],I[i++]=I[A++],y-=3}while(y>2);y&&(I[i++]=I[A++],y>1&&(I[i++]=I[A++]))}break}}break}}while(r<a&&i<s);r-=y=m>>3,h&=(1<<(m-=y<<3))-1,t.next_in=r,t.next_out=i,t.avail_in=r<a?a-r+5:5-(r-a),t.avail_out=i<s?s-i+257:257-(i-s),n.hold=h,n.bits=m}},function(t,e,n){"use strict";var r=n(0),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,c,d,u,f){var h,m,g,p,_,v,w,b,y,k=f.bits,A=0,B=0,E=0,I=0,x=0,L=0,z=0,S=0,U=0,C=0,R=null,T=0,N=new r.Buf16(16),D=new r.Buf16(16),P=null,O=0;for(A=0;A<=15;A++)N[A]=0;for(B=0;B<l;B++)N[e[n+B]]++;for(x=k,I=15;I>=1&&0===N[I];I--);if(x>I&&(x=I),0===I)return c[d++]=20971520,c[d++]=20971520,f.bits=1,0;for(E=1;E<I&&0===N[E];E++);for(x<E&&(x=E),S=1,A=1;A<=15;A++)if(S<<=1,(S-=N[A])<0)return-1;if(S>0&&(0===t||1!==I))return-1;for(D[1]=0,A=1;A<15;A++)D[A+1]=D[A]+N[A];for(B=0;B<l;B++)0!==e[n+B]&&(u[D[e[n+B]]++]=B);if(0===t?(R=P=u,v=19):1===t?(R=a,T-=257,P=i,O-=257,v=256):(R=o,P=s,v=-1),C=0,B=0,A=E,_=d,L=x,z=0,g=-1,p=(U=1<<x)-1,1===t&&U>852||2===t&&U>592)return 1;for(;;){w=A-z,u[B]<v?(b=0,y=u[B]):u[B]>v?(b=P[O+u[B]],y=R[T+u[B]]):(b=96,y=0),h=1<<A-z,E=m=1<<L;do{c[_+(C>>z)+(m-=h)]=w<<24|b<<16|y|0}while(0!==m);for(h=1<<A-1;C&h;)h>>=1;if(0!==h?(C&=h-1,C+=h):C=0,B++,0==--N[A]){if(A===I)break;A=e[n+u[B]]}if(A>x&&(C&p)!==g){for(0===z&&(z=x),_+=E,S=1<<(L=A-z);L+z<I&&!((S-=N[L+z])<=0);)L++,S<<=1;if(U+=1<<L,1===t&&U>852||2===t&&U>592)return 1;c[g=C&p]=x<<24|L<<16|_-d|0}}return 0!==C&&(c[_+C]=A-z<<24|64<<16|0),f.bits=x,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){var r,a,i;a=[],void 0===(i="function"==typeof(r=function(){return function t(e,n,r){var a,i,o=window,s="application/octet-stream",l=r||s,c=e,d=!n&&!r&&c,u=document.createElement("a"),f=function(t){return String(t)},h=o.Blob||o.MozBlob||o.WebKitBlob||f,m=n||"download";if(h=h.call?h.bind(o):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),d&&d.length<2048&&(m=d.split("/").pop().split("?")[0],u.href=d,-1!==u.href.indexOf(d))){var g=new XMLHttpRequest;return g.open("GET",d,!0),g.responseType="blob",g.onload=function(e){t(e.target.response,m,s)},setTimeout((function(){g.send()}),0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&h!==f))return navigator.msSaveBlob?navigator.msSaveBlob(w(c),m):b(c);l=(c=w(c)).type||s}else if(/([\x80-\xff])/.test(c)){for(var p=0,_=new Uint8Array(c.length),v=_.length;p<v;++p)_[p]=c.charCodeAt(p);c=new h([_],{type:l})}function w(t){for(var e=t.split(/[:;,]/),n=e[1],r=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),a=r.length,i=0,o=new Uint8Array(a);i<a;++i)o[i]=r.charCodeAt(i);return new h([o],{type:n})}function b(t,e){if("download"in u)return u.href=t,u.setAttribute("download",m),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===e&&setTimeout((function(){o.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),n.src=t,setTimeout((function(){document.body.removeChild(n)}),333)}if(a=c instanceof h?c:new h([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(a,m);if(o.URL)b(o.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===f)try{return b("data:"+l+";base64,"+o.btoa(a))}catch(t){return b("data:"+l+","+encodeURIComponent(a))}(i=new FileReader).onload=function(t){b(this.result)},i.readAsDataURL(a)}return!0}})?r.apply(e,a):r)||(t.exports=i)},function(t,e,n){"use strict";n.r(e);let r,a,i=128;function o(t){i=t,canvas.height=t,canvas.width=t,function(t){document.getElementById("size32").classList.remove("active"),document.getElementById("size64").classList.remove("active"),document.getElementById("size128").classList.remove("active"),document.getElementById(`size${t}`).classList.add("active")}(t);const e=localStorage.getItem("canvas"),n=new Image;n.crossOrigin="Anonymous",n.src=e,n.onload=function(){z.drawImage(n,0,0,512/(512/i),512/(512/i))}}function s(t){let e=t.slice(4,t.length-1);return e=e.split(", "),`#${((1<<24)+(+e[0]<<16)+(+e[1]<<8)+ +e[2]).toString(16).slice(1)}`}let l=[];function c(){let t=document.createElement("canvas");a=t.getContext("2d"),l.push(t),_&&(a=_);let e=document.createElement("div"),n=document.createElement("button"),r=document.createElement("button");e.classList.add("frame"),n.textContent="duplicate",n.classList.add("duplicate"),r.textContent="delete",r.classList.add("delete"),t.style.width="128px",t.style.height="128px",t.width="128",t.height="128",e.appendChild(t),e.appendChild(n),e.appendChild(r),document.getElementById("addFrames").append(e)}function d(){v&&(a=v);const t=localStorage.getItem("canvas"),e=new Image;e.crossOrigin="Anonymous",e.src=t,a.drawImage(e,0,0,128,128)}function u(){z.clearRect(0,0,512,512),a.clearRect(0,0,128,128),z.fillStyle="lightgrey",z.fillRect(0,0,512,512),localStorage.setItem("canvas",canvas.toDataURL())}function f(t){document.getElementById("pencil").classList.remove("active"),document.getElementById("paintBucket").classList.remove("active"),document.getElementById("chooseColor").classList.remove("active"),document.getElementById("eraser").classList.remove("active"),document.getElementById("stroke").classList.remove("active"),document.getElementById("bucket").classList.remove("active"),document.getElementById(`${t}`).classList.add("active")}let h=0;function m(){const t=document.getElementById("animation").getContext("2d");let e;try{e=l[h].toDataURL()}catch{h=0}const n=new Image;n.crossOrigin="Anonymous",n.src=e,n.onload=function(){t.drawImage(n,0,0,256,256),h+=1,(h===l.length||h>l.length)&&(h=0)}}n(7),n(8),n(9),n(10);n.d(e,"color",(function(){return x})),n.d(e,"ctx",(function(){return z})),n.d(e,"ctxValue",(function(){return v})),n.d(e,"canvasData",(function(){return _}));const g=n(11),p=n(22);let _,v,w=!1,b=!1,y=!1,k=!1,A=!1,B=!1,E=!1,I=!1,x="#ff0000";const L=document.getElementById("canvas");L.style.width="512px",L.style.height="512px";const z=L.getContext("2d");if(z.imageSmoothingEnabled=!1,c(),d(),localStorage.getItem("canvas")){const t=localStorage.getItem("canvas"),e=new Image;e.crossOrigin="Anonymous",e.src=t,e.onload=function(){z.strokeStyle=x,z.drawImage(e,0,0,128,128)}}let S,U;document.getElementById("size").addEventListener("click",t=>{const{target:e}=t;"size32"===e.id&&o(32),"size64"===e.id&&o(64),"size128"===e.id&&o(128)}),document.getElementById("mainItems").addEventListener("click",t=>{b=!1,A=!1,k=!1,B=!1,E=!1,w=!1;const{target:e}=t,n=e.closest("div");"main__items"!==n.className&&("pencil"===n.id&&(f("pencil"),b=!0),"paintBucket"===n.id&&(f("paintBucket"),k=!0),"chooseColor"===n.id&&(f("chooseColor"),A=!0),"eraser"===n.id&&(f("eraser"),B=!0),"stroke"===n.id&&(f("stroke"),E=!0),"bucket"===n.id&&(f("bucket"),w=!0))}),document.getElementById("canvas").addEventListener("mousedown",t=>{if(b){z.strokeStyle=x,z.beginPath();const e=t.offsetX,n=t.offsetY;z.moveTo(parseInt(e/(512/i)),parseInt(n/(512/i))),y=!0}}),document.getElementById("canvas").addEventListener("mousemove",t=>{if(y){const e=t.offsetX,n=t.offsetY;z.lineTo(parseInt(e/(512/i)),parseInt(n/(512/i))),z.stroke()}}),document.getElementById("canvas").addEventListener("mouseup",()=>{y=!1,localStorage.setItem("canvas",L.toDataURL())}),document.getElementById("canvas").addEventListener("mousemove",()=>{d(),v=null,localStorage.setItem("canvas",L.toDataURL())}),document.getElementById("canvas").addEventListener("mouseleave",()=>{y=!1,localStorage.setItem("canvas",L.toDataURL())}),document.getElementById("canvas").addEventListener("mousedown",t=>{if(b){const e=t.offsetX,n=t.offsetY;z.strokeStyle=x,z.fillStyle=x,z.fillRect(parseInt(e/(512/i)),parseInt(n/(512/i)),1,1),localStorage.setItem("canvas",L.toDataURL())}}),document.addEventListener("keydown",(function(t){"KeyB"===t.code&&(document.getElementById("paintBucket").classList.add("active"),document.getElementById("pencil").classList.remove("active"),document.getElementById("chooseColor").classList.remove("active"),document.getElementById("canvas").classList.remove("pencil"),document.getElementById("canvas").classList.remove("choose-color"),document.getElementById("canvas").classList.add("paint-bucket")),"KeyC"===t.code&&(document.getElementById("chooseColor").classList.add("active"),document.getElementById("canvas").classList.add("choose-color"),document.getElementById("paintBucket").classList.remove("active"),document.getElementById("pencil").classList.remove("active"),document.getElementById("canvas").classList.remove("pencil"),document.getElementById("canvas").classList.remove("paint-bucket")),"KeyP"===t.code&&(document.getElementById("pencil").classList.add("active"),document.getElementById("canvas").classList.add("pencil"),document.getElementById("paintBucket").classList.remove("active"),document.getElementById("chooseColor").classList.remove("active"),document.getElementById("canvas").classList.remove("choose-color"),document.getElementById("canvas").classList.remove("paint-bucket"))})),document.getElementById("clear").addEventListener("click",u),document.getElementById("mainColors").addEventListener("click",t=>{const{target:e}=t,n=e.closest("div");"main__colors"!==n.className&&(n.classList.add("active"),"primaryColor"===n.id&&(document.getElementById("secondaryColor").classList.remove("active"),x=document.getElementById("inputColorPrimary").value),"secondaryColor"===n.id&&(document.getElementById("primaryColor").classList.remove("active"),x=document.getElementById("inputColorSecondary").value))}),document.getElementById("canvas").addEventListener("click",t=>{A&&(!function(t){const e=t.offsetX,n=t.offsetY,a=z.getImageData(e/(parseInt(canvas.style.width,10)/i),n/(parseInt(canvas.style.height,10)/i),1,1).data,o=`rgb(${a[0]}, ${a[1]}, ${a[2]})`;console.log(a);let l=s(o);document.getElementById("primaryColor").classList.contains("active")?document.getElementById("inputColorPrimary").value=l:document.getElementById("inputColorSecondary").value=l,r=l}(t),x=r)}),document.getElementById("inputColorPrimary").addEventListener("input",()=>{x=document.getElementById("inputColorPrimary").value}),document.getElementById("inputColorSecondary").addEventListener("input",()=>{x=document.getElementById("inputColorSecondary").value}),document.getElementById("canvas").addEventListener("click",t=>{k&&function(t){let e=parseInt(canvas.style.width)/i,n=t.offsetX,r=t.offsetY;const a=z.getImageData(parseInt(n/(parseInt(canvas.style.width,10)/i)),parseInt(r/(parseInt(canvas.style.height,10)/i)),1,1).data,o=s(`rgb(${a[0]}, ${a[1]}, ${a[2]})`),l=[],c={};for(l.push([n,r]),z.fillStyle=x;l.length>0;){const t=l.pop(),n=t[0],r=t[1];if(!0===c[`${n} ${r}`])continue;c[`${n} ${r}`]=!0;const a=z.getImageData(parseInt(n/(parseInt(canvas.style.width,10)/i)),parseInt(r/(parseInt(canvas.style.height,10)/i)),1,1).data;s(`rgb(${a[0]}, ${a[1]}, ${a[2]})`)===o&&(z.fillRect(parseInt(n/(parseInt(canvas.style.width,10)/i)),parseInt(r/(parseInt(canvas.style.height,10)/i)),1,1),512!==n&&!0!==c[`${+n+e} ${r}`]&&l.push([+n+e,r]),0!==n&&!0!==c[`${+n-e} ${r}`]&&l.push([+n-e,r]),512!==r&&!0!==c[`${n} ${+r+e}`]&&l.push([n,+r+e]),0!==r&&!0!==c[`${n} ${+r-e}`]&&l.push([n,+r-e]))}localStorage.setItem("canvas",canvas.toDataURL())}(t)}),document.getElementById("canvas").addEventListener("mousedown",t=>{B&&(I=!0)}),document.getElementById("canvas").addEventListener("mousemove",t=>{const e=t.offsetX,n=t.offsetY;I&&(z.clearRect(parseInt(e/(512/i)),parseInt(n/(512/i)),1,1),localStorage.setItem("canvas",L.toDataURL()),d())}),document.getElementById("canvas").addEventListener("mouseup",()=>{I=!1}),document.getElementById("canvas").addEventListener("mouseleave",()=>{I=!1});let C=!1;document.getElementById("canvas").addEventListener("mousedown",t=>{E&&(S=t.offsetX,U=t.offsetY,C=!0)}),document.getElementById("canvas").addEventListener("mousemove",t=>{const e=t.offsetX,n=t.offsetY;if(C){z.strokeStyle=x,z.clearRect(0,0,L.width,L.height);const t=localStorage.getItem("canvas"),r=new Image;r.crossOrigin="Anonymous",r.src=t,z.drawImage(r,0,0,i,i),z.beginPath(),z.moveTo(parseInt(S/(512/i)),parseInt(U/(512/i))),z.lineTo(parseInt(e/(512/i)),parseInt(n/(512/i))),z.stroke()}}),document.getElementById("canvas").addEventListener("mouseup",t=>{E&&(C=!1)}),document.getElementById("addNewFrame").addEventListener("click",()=>{c(),u(),localStorage.setItem("canvas",L.toDataURL())}),document.getElementById("addFrames").addEventListener("click",t=>{let e=t.target;if(e.closest("canvas")){v=e.getContext("2d");const t=e.toDataURL(),n=new Image;n.crossOrigin="Anonymous",n.src=t,n.onload=function(){z.drawImage(n,0,0,128,128)}}}),document.getElementById("addFrames").addEventListener("click",t=>{let e=t.target;if(e.classList.contains("delete")){l.splice(l.filter(t=>t.getContext("2d")===e.previousSibling.previousSibling.getContext("2d")),1),e.closest(".frame").style.display="none";const t=document.getElementsByTagName("canvas")[0].toDataURL();v=document.getElementsByTagName("canvas")[0].getContext("2d");const n=new Image;n.crossOrigin="Anonymous",n.src=t,n.onload=function(){z.strokeStyle=x,z.drawImage(n,0,0,128,128)},d()}if(e.classList.contains("duplicate")){c();const t=e.previousSibling.toDataURL(),n=new Image;n.crossOrigin="Anonymous",n.src=t,n.onload=function(){z.strokeStyle=x,z.drawImage(n,0,0,128,128)},localStorage.setItem("canvas",L.toDataURL()),d(),v=null,_=null}}),document.getElementById("canvas").addEventListener("mousedown",()=>{w&&(!function(t){z.fillStyle=t,z.fillRect(0,0,512,512),localStorage.setItem("canvas",canvas.toDataURL())}(x),d())});let R=12;document.getElementById("value").value="12 fps";let T=1e3/R,N=setInterval(m,T);document.getElementById("range").addEventListener("input",()=>{document.getElementById("value").value=`${document.getElementById("range").value} fps`,R=document.getElementById("range").value,T=1e3/R,clearInterval(N),0!=R&&(N=setInterval(m,T))}),document.getElementById("animation").addEventListener("click",(function(){if("fullscreenEnabled"in document){if(document.fullscreenEnabled){let t=document.getElementById("animation");"requestFullscreen"in t&&t.requestFullscreen()}}else alert("User doesn't allow full screen")})),document.getElementById("gif").addEventListener("click",()=>{let t=new GIFEncoder;t.setRepeat(0),t.setDelay(T),t.start();for(let e=0;e<l.length;e++)t.addFrame(l[e].getContext("2d"));t.finish(),t.download("picture")}),document.getElementById("apng").addEventListener("click",()=>{let t=Array.of(l.length).fill(T),e=g.encode(l,512,512,0,t);p(e,"picture.apng","apng")}),document.getElementById("apng").addEventListener("click",()=>{APNG.ifNeeded().then((function(){for(var t=0;t<l.length;t++)APNG.animateImage(l[t])}))}),window.onunload=()=>{localStorage.setItem("canvas",L.toDataURL())}}]);
//# sourceMappingURL=main.js.map