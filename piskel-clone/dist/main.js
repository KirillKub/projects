!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);let a,o,c=128;function s(e){c=e,canvas.height=e,canvas.width=e,function(e){document.getElementById("size32").classList.remove("active"),document.getElementById("size64").classList.remove("active"),document.getElementById("size128").classList.remove("active"),document.getElementById(`size${e}`).classList.add("active")}(e);const t=localStorage.getItem("canvas"),n=new Image;n.crossOrigin="Anonymous",n.src=t,n.onload=function(){k.drawImage(n,0,0,512/(512/c),512/(512/c))}}function r(e){let t=e.slice(4,e.length-1);return t=t.split(", "),`#${((1<<24)+(+t[0]<<16)+(+t[1]<<8)+ +t[2]).toString(16).slice(1)}`}let i=[];function l(){let e=document.createElement("canvas");o=e.getContext("2d"),i.push(e),g&&(o=g);let t=document.createElement("div"),n=document.createElement("button"),a=document.createElement("button");t.classList.add("frame"),n.textContent="duplicate",n.classList.add("duplicate"),a.textContent="delete",a.classList.add("delete"),e.style.width="128px",e.style.height="128px",e.width="128",e.height="128",t.appendChild(e),t.appendChild(n),t.appendChild(a),document.getElementById("addFrames").append(t)}function d(){y&&(o=y);const e=localStorage.getItem("canvas"),t=new Image;t.crossOrigin="Anonymous",t.src=e,o.drawImage(t,0,0,128,128)}function u(){k.clearRect(0,0,512,512),o.clearRect(0,0,128,128),k.fillStyle="lightgrey",k.fillRect(0,0,512,512),localStorage.setItem("canvas",canvas.toDataURL())}function m(e){document.getElementById("pencil").classList.remove("active"),document.getElementById("paintBucket").classList.remove("active"),document.getElementById("chooseColor").classList.remove("active"),document.getElementById("eraser").classList.remove("active"),document.getElementById("stroke").classList.remove("active"),document.getElementById("bucket").classList.remove("active"),document.getElementById(`${e}`).classList.add("active")}let f=0;function v(){const e=document.getElementById("animation").getContext("2d"),t=i[f].toDataURL(),n=new Image;n.crossOrigin="Anonymous",n.src=t,n.onload=function(){e.drawImage(n,0,0,256,256),f+=1,f===i.length&&(f=0)}}n(1),n(2),n(3);let g,y;n.d(t,"color",(function(){return S})),n.d(t,"ctx",(function(){return k})),n.d(t,"ctxValue",(function(){return y})),n.d(t,"canvasData",(function(){return g}));let I=!1,p=!1,B=!1,E=!1,h=!1,w=!1,L=!1,b=!1,S="#ff0000";const C=document.getElementById("canvas");C.style.width="512px",C.style.height="512px";const k=C.getContext("2d");if(k.imageSmoothingEnabled=!1,l(),d(),localStorage.getItem("canvas")){const e=localStorage.getItem("canvas"),t=new Image;t.crossOrigin="Anonymous",t.src=e,t.onload=function(){k.strokeStyle=S,k.drawImage(t,0,0,128,128)}}let R,D;document.getElementById("size").addEventListener("click",e=>{const{target:t}=e;"size32"===t.id&&s(32),"size64"===t.id&&s(64),"size128"===t.id&&s(128)}),document.getElementById("mainItems").addEventListener("click",e=>{p=!1,h=!1,E=!1,w=!1,L=!1,I=!1;const{target:t}=e,n=t.closest("div");"main__items"!==n.className&&("pencil"===n.id&&(m("pencil"),p=!0),"paintBucket"===n.id&&(m("paintBucket"),E=!0),"chooseColor"===n.id&&(m("chooseColor"),h=!0),"eraser"===n.id&&(m("eraser"),w=!0),"stroke"===n.id&&(m("stroke"),L=!0),"bucket"===n.id&&(m("bucket"),I=!0))}),document.getElementById("canvas").addEventListener("mousedown",e=>{if(p){k.strokeStyle=S,k.beginPath();const t=e.offsetX,n=e.offsetY;k.moveTo(parseInt(t/(512/c)),parseInt(n/(512/c))),B=!0}}),document.getElementById("canvas").addEventListener("mousemove",e=>{if(B){const t=e.offsetX,n=e.offsetY;k.lineTo(parseInt(t/(512/c)),parseInt(n/(512/c))),k.stroke()}}),document.getElementById("canvas").addEventListener("mouseup",()=>{B=!1,localStorage.setItem("canvas",C.toDataURL())}),document.getElementById("canvas").addEventListener("mousemove",()=>{d(),y=null,localStorage.setItem("canvas",C.toDataURL())}),document.getElementById("canvas").addEventListener("mouseleave",()=>{B=!1,localStorage.setItem("canvas",C.toDataURL())}),document.getElementById("canvas").addEventListener("mousedown",e=>{if(p){const t=e.offsetX,n=e.offsetY;k.strokeStyle=S,k.fillStyle=S,k.fillRect(parseInt(t/(512/c)),parseInt(n/(512/c)),1,1),localStorage.setItem("canvas",C.toDataURL())}}),document.addEventListener("keydown",(function(e){"KeyB"===e.code&&(document.getElementById("paintBucket").classList.add("active"),document.getElementById("pencil").classList.remove("active"),document.getElementById("chooseColor").classList.remove("active"),document.getElementById("canvas").classList.remove("pencil"),document.getElementById("canvas").classList.remove("choose-color"),document.getElementById("canvas").classList.add("paint-bucket")),"KeyC"===e.code&&(document.getElementById("chooseColor").classList.add("active"),document.getElementById("canvas").classList.add("choose-color"),document.getElementById("paintBucket").classList.remove("active"),document.getElementById("pencil").classList.remove("active"),document.getElementById("canvas").classList.remove("pencil"),document.getElementById("canvas").classList.remove("paint-bucket")),"KeyP"===e.code&&(document.getElementById("pencil").classList.add("active"),document.getElementById("canvas").classList.add("pencil"),document.getElementById("paintBucket").classList.remove("active"),document.getElementById("chooseColor").classList.remove("active"),document.getElementById("canvas").classList.remove("choose-color"),document.getElementById("canvas").classList.remove("paint-bucket"))})),document.getElementById("clear").addEventListener("click",u),document.getElementById("mainColors").addEventListener("click",e=>{const{target:t}=e,n=t.closest("div");"main__colors"!==n.className&&(n.classList.add("active"),"primaryColor"===n.id&&(document.getElementById("secondaryColor").classList.remove("active"),S=document.getElementById("inputColorPrimary").value),"secondaryColor"===n.id&&(document.getElementById("primaryColor").classList.remove("active"),S=document.getElementById("inputColorSecondary").value))}),document.getElementById("canvas").addEventListener("click",e=>{h&&(!function(e){const t=e.offsetX,n=e.offsetY,o=k.getImageData(t/(parseInt(canvas.style.width,10)/c),n/(parseInt(canvas.style.height,10)/c),1,1).data,s=`rgb(${o[0]}, ${o[1]}, ${o[2]})`;console.log(o);let i=r(s);document.getElementById("primaryColor").classList.contains("active")?document.getElementById("inputColorPrimary").value=i:document.getElementById("inputColorSecondary").value=i,a=i}(e),S=a)}),document.getElementById("inputColorPrimary").addEventListener("input",()=>{S=document.getElementById("inputColorPrimary").value}),document.getElementById("inputColorSecondary").addEventListener("input",()=>{S=document.getElementById("inputColorSecondary").value}),document.getElementById("canvas").addEventListener("click",e=>{E&&function(e){let t=parseInt(canvas.style.width)/c,n=e.offsetX,a=e.offsetY;const o=k.getImageData(parseInt(n/(parseInt(canvas.style.width,10)/c)),parseInt(a/(parseInt(canvas.style.height,10)/c)),1,1).data,s=r(`rgb(${o[0]}, ${o[1]}, ${o[2]})`),i=[],l={};for(i.push([n,a]),k.fillStyle=S;i.length>0;){const e=i.pop(),n=e[0],a=e[1];if(!0===l[`${n} ${a}`])continue;l[`${n} ${a}`]=!0;const o=k.getImageData(parseInt(n/(parseInt(canvas.style.width,10)/c)),parseInt(a/(parseInt(canvas.style.height,10)/c)),1,1).data;r(`rgb(${o[0]}, ${o[1]}, ${o[2]})`)===s&&(k.fillRect(parseInt(n/(parseInt(canvas.style.width,10)/c)),parseInt(a/(parseInt(canvas.style.height,10)/c)),1,1),512!==n&&!0!==l[`${+n+t} ${a}`]&&i.push([+n+t,a]),0!==n&&!0!==l[`${+n-t} ${a}`]&&i.push([+n-t,a]),512!==a&&!0!==l[`${n} ${+a+t}`]&&i.push([n,+a+t]),0!==a&&!0!==l[`${n} ${+a-t}`]&&i.push([n,+a-t]))}localStorage.setItem("canvas",canvas.toDataURL())}(e)}),document.getElementById("canvas").addEventListener("mousedown",e=>{w&&(b=!0)}),document.getElementById("canvas").addEventListener("mousemove",e=>{const t=e.offsetX,n=e.offsetY;b&&(k.clearRect(parseInt(t/(512/c)),parseInt(n/(512/c)),1,1),localStorage.setItem("canvas",C.toDataURL()),d())}),document.getElementById("canvas").addEventListener("mouseup",()=>{b=!1}),document.getElementById("canvas").addEventListener("mouseleave",()=>{b=!1});let $=!1;document.getElementById("canvas").addEventListener("mousedown",e=>{L&&(R=e.offsetX,D=e.offsetY,$=!0)}),document.getElementById("canvas").addEventListener("mousemove",e=>{const t=e.offsetX,n=e.offsetY;if($){k.strokeStyle=S,k.clearRect(0,0,C.width,C.height);const e=localStorage.getItem("canvas"),a=new Image;a.crossOrigin="Anonymous",a.src=e,k.drawImage(a,0,0,c,c),k.beginPath(),k.moveTo(parseInt(R/(512/c)),parseInt(D/(512/c))),k.lineTo(parseInt(t/(512/c)),parseInt(n/(512/c))),k.stroke()}}),document.getElementById("canvas").addEventListener("mouseup",e=>{L&&($=!1)}),document.getElementById("addNewFrame").addEventListener("click",()=>{l(),u(),localStorage.setItem("canvas",C.toDataURL())}),document.getElementById("addFrames").addEventListener("click",e=>{let t=e.target;if(t.closest("canvas")){y=t.getContext("2d");const e=t.toDataURL(),n=new Image;n.crossOrigin="Anonymous",n.src=e,n.onload=function(){k.drawImage(n,0,0,128,128)}}}),document.getElementById("addFrames").addEventListener("click",e=>{let t=e.target;if(t.classList.contains("delete")){i.splice(i.filter(e=>e.getContext("2d")===t.previousSibling.previousSibling.getContext("2d")),1),t.closest(".frame").style.display="none";const e=document.getElementsByTagName("canvas")[0].toDataURL();y=document.getElementsByTagName("canvas")[0].getContext("2d");const n=new Image;n.crossOrigin="Anonymous",n.src=e,n.onload=function(){k.strokeStyle=S,k.drawImage(n,0,0,128,128)},d()}if(t.classList.contains("duplicate")){l();const e=t.previousSibling.toDataURL(),n=new Image;n.crossOrigin="Anonymous",n.src=e,n.onload=function(){k.strokeStyle=S,k.drawImage(n,0,0,128,128)},localStorage.setItem("canvas",C.toDataURL()),d(),y=null,g=null}}),document.getElementById("canvas").addEventListener("mousedown",()=>{I&&(!function(e){k.fillStyle=e,k.fillRect(0,0,512,512),localStorage.setItem("canvas",canvas.toDataURL())}(S),d())});let U=12;document.getElementById("value").value="12 fps";let x=1e3/U,P=setInterval(v,x);document.getElementById("range").addEventListener("input",()=>{document.getElementById("value").value=`${document.getElementById("range").value} fps`,U=document.getElementById("range").value,x=1e3/U,clearInterval(P),0!=U&&(P=setInterval(v,x))}),document.getElementById("animation").addEventListener("click",(function(){if("fullscreenEnabled"in document){if(document.fullscreenEnabled){let e=document.getElementById("animation");"requestFullscreen"in e&&e.requestFullscreen()}}else alert("User doesn't allow full screen")})),document.getElementById("gif").addEventListener("click",()=>{let e=new GIFEncoder;e.setRepeat(0),e.setDelay(x),e.start();for(let t=0;t<i.length;t++)e.addFrame(i[t].getContext("2d"));e.finish(),e.download("picture.gif")}),window.onunload=()=>{localStorage.setItem("canvas",C.toDataURL())}},function(e,t){GIFEncoder=function(){for(var e=0,t={};e<256;e++)t[e]=String.fromCharCode(e);function n(){this.bin=[]}n.prototype.getData=function(){for(var e="",n=this.bin.length,a=0;a<n;a++)e+=t[this.bin[a]];return e},n.prototype.writeByte=function(e){this.bin.push(e)},n.prototype.writeUTFBytes=function(e){for(var t=e.length,n=0;n<t;n++)this.writeByte(e.charCodeAt(n))},n.prototype.writeBytes=function(e,t,n){for(var a=n||e.length,o=t||0;o<a;o++)this.writeByte(e[o])};var a,o,c,s,r,i,l,d,u,m={},f=null,v=-1,g=0,y=!1,I=[],p=7,B=-1,E=!1,h=!0,w=!1,L=10,b="Generated by jsgif (https://github.com/antimatter15/jsgif/)",S=(m.setDelay=function(e){g=Math.round(e/10)},m.setDispose=function(e){e>=0&&(B=e)},m.setRepeat=function(e){e>=0&&(v=e)},m.setTransparent=function(e){f=e},m.setComment=function(e){b=e},m.addFrame=function(e,t){if(null===e||!y||null===s)throw new Error("Please call start method before calling addFrame");var n=!0;try{t?e instanceof ImageData?(r=e.data,sizeset&&a==e.width&&o==e.height||C(e.width,e.height)):e instanceof Uint8ClampedArray?e.length==a*o*4?r=e:(console.log("Please set the correct size: ImageData length mismatch"),n=!1):(console.log("Please provide correct input"),n=!1):(r=e.getImageData(0,0,e.canvas.width,e.canvas.height).data,w||C(e.canvas.width,e.canvas.height)),D(),k(),h&&(P(),O(),v>=0&&F()),$(),""!==b&&U(),x(),h||O(),T(),h=!1}catch(e){n=!1}return n},m.download=function(e){if(null===s||0==E)console.log("Please call start method and add frames and call finish method before calling download");else{e=void 0!==e?e.endsWith(".gif")?e:e+".gif":"download.gif";var t=document.createElement("a");t.download=e,t.href=URL.createObjectURL(new Blob([new Uint8Array(s.bin)],{type:"image/gif"})),t.click()}},m.finish=function(){if(!y)return!1;var e=!0;y=!1;try{s.writeByte(59),E=!0}catch(t){e=!1}return e},function(){c=0,r=null,i=null,l=null,u=null,E=!1,h=!0}),C=(m.setFrameRate=function(e){15!=e&&(g=Math.round(100/e))},m.setQuality=function(e){e<1&&(e=1),L=e},m.setSize=function(e,t){y&&!h||((a=e)<1&&(a=320),(o=t)<1&&(o=240),w=!0)}),k=(m.start=function(){S();var e=!0;E=!1,s=new n;try{s.writeUTFBytes("GIF89a")}catch(t){e=!1}return y=e},m.cont=function(){S();return E=!1,s=new n,y=!0},function(){var e=i.length,t=e/3;l=[];var n=new NeuQuant(i,e,L);u=n.process();for(var a=0,o=0;o<t;o++){var s=n.map(255&i[a++],255&i[a++],255&i[a++]);I[s]=!0,l[o]=s}i=null,d=8,p=7,null!==f&&(c=R(f))}),R=function(e){if(null===u)return-1;for(var t=(16711680&e)>>16,n=(65280&e)>>8,a=255&e,o=0,c=16777216,s=u.length,r=0;r<s;){var i=t-(255&u[r++]),l=n-(255&u[r++]),d=a-(255&u[r]),m=i*i+l*l+d*d,f=r/3;I[f]&&m<c&&(c=m,o=f),r++}return o},D=function(){var e=a,t=o;i=[];for(var n=r,c=0,s=0;s<t;s++)for(var l=0;l<e;l++){var d=s*e*4+4*l;i[c++]=n[d],i[c++]=n[d+1],i[c++]=n[d+2]}},$=function(){var e,t;s.writeByte(33),s.writeByte(249),s.writeByte(4),null===f?(e=0,t=0):(e=1,t=2),B>=0&&(t=7&B),t<<=2,s.writeByte(0|t|e),A(g),s.writeByte(c),s.writeByte(0)},U=function(){s.writeByte(33),s.writeByte(254),s.writeByte(b.length),s.writeUTFBytes(b),s.writeByte(0)},x=function(){s.writeByte(44),A(0),A(0),A(a),A(o),h?s.writeByte(0):s.writeByte(128|p)},P=function(){A(a),A(o),s.writeByte(240|p),s.writeByte(0),s.writeByte(0)},F=function(){s.writeByte(33),s.writeByte(255),s.writeByte(11),s.writeUTFBytes("NETSCAPE2.0"),s.writeByte(3),s.writeByte(1),A(v),s.writeByte(0)},O=function(){s.writeBytes(u);for(var e=768-u.length,t=0;t<e;t++)s.writeByte(0)},A=function(e){s.writeByte(255&e),s.writeByte(e>>8&255)},T=function(){new LZWEncoder(a,o,l,d).encode(s)};m.stream=function(){return s},m.setProperties=function(e,t){y=e,h=t};return m}},function(e,t){LZWEncoder=function(){var e,t,n,a,o,c,s,r,i,l,d,u,m={},f=-1,v=12,g=5003,y=v,I=1<<v,p=[],B=[],E=g,h=0,w=!1,L=0,b=0,S=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],C=[],k=m.LZWEncoder=function(o,c,s,r){e=o,t=c,n=s,a=Math.max(2,r)},R=function(e,t){C[u++]=e,u>=254&&x(t)},D=function(e){$(E),h=l+2,w=!0,O(l,e)},$=function(e){for(var t=0;t<e;++t)p[t]=-1},U=m.compress=function(e,t){var n,a,o,c,m,v,g;for(w=!1,r=P(s=i=e),d=(l=1<<e-1)+1,h=l+2,u=0,c=F(),g=0,n=E;n<65536;n*=2)++g;g=8-g,$(v=E),O(l,t);e:for(;(o=F())!=f;)if(n=(o<<y)+c,p[a=o<<g^c]!=n){if(p[a]>=0){m=v-a,0===a&&(m=1);do{if((a-=m)<0&&(a+=v),p[a]==n){c=B[a];continue e}}while(p[a]>=0)}O(c,t),c=o,h<I?(B[a]=h++,p[a]=n):D(t)}else c=B[a];O(c,t),O(d,t)},x=(m.encode=function(n){n.writeByte(a),o=e*t,c=0,U(a+1,n),n.writeByte(0)},function(e){u>0&&(e.writeByte(u),e.writeBytes(C,0,u),u=0)}),P=function(e){return(1<<e)-1},F=function(){return 0===o?f:(--o,255&n[c++])},O=function(e,t){for(L&=S[b],b>0?L|=e<<b:L=e,b+=s;b>=8;)R(255&L,t),L>>=8,b-=8;if((h>r||w)&&(w?(r=P(s=i),w=!1):(++s,r=s==y?I:P(s))),e==d){for(;b>0;)R(255&L,t),L>>=8,b-=8;x(t)}};return k.apply(this,arguments),m}},function(e,t){NeuQuant=function(){var e,t,n,a,o,c={},s=256,r=499,i=491,l=487,d=503,u=3*d,m=s-1,f=4,v=100,g=16,y=1<<g,I=10,p=10,B=y>>p,E=y<<I-p,h=s>>3,w=6,L=1<<w,b=h*L,S=30,C=10,k=1<<C,R=8,D=1<<R,$=C+R,U=1<<$,x=[],P=[],F=[],O=[],A=c.NeuQuant=function(e,c,r){var i,l;for(t=e,n=c,a=r,o=new Array(s),i=0;i<s;i++)o[i]=new Array(4),(l=o[i])[0]=l[1]=l[2]=(i<<f+8)/s,F[i]=y/s,P[i]=0},T=function(){for(var e=[],t=new Array(s),n=0;n<s;n++)t[o[n][3]]=n;for(var a=0,c=0;c<s;c++){var r=t[c];e[a++]=o[r][0],e[a++]=o[r][1],e[a++]=o[r][2]}return e},z=function(){var e,t,n,a,c,r,i,l;for(i=0,l=0,e=0;e<s;e++){for(n=e,a=(c=o[e])[1],t=e+1;t<s;t++)(r=o[t])[1]<a&&(n=t,a=r[1]);if(r=o[n],e!=n&&(t=r[0],r[0]=c[0],c[0]=t,t=r[1],r[1]=c[1],c[1]=t,t=r[2],r[2]=c[2],c[2]=t,t=r[3],r[3]=c[3],c[3]=t),a!=i){for(x[i]=l+e>>1,t=i+1;t<a;t++)x[t]=e;i=a,l=e}}for(x[i]=l+m>>1,t=i+1;t<256;t++)x[t]=m},j=function(){var o,c,s,m,g,y,I,p,B,E,h,L,C,R;for(n<u&&(a=1),e=30+(a-1)/3,L=t,C=0,R=n,E=(h=n/(3*a))/v|0,p=k,(I=(y=b)>>w)<=1&&(I=0),o=0;o<I;o++)O[o]=p*((I*I-o*o)*D/(I*I));for(B=n<u?3:n%r!=0?3*r:n%i!=0?3*i:n%l!=0?3*l:3*d,o=0;o<h;)if(s=(255&L[C+0])<<f,m=(255&L[C+1])<<f,g=(255&L[C+2])<<f,c=Y(s,m,g),X(p,c,s,m,g),0!==I&&N(I,c,s,m,g),(C+=B)>=R&&(C-=n),0===E&&(E=1),++o%E==0)for(p-=p/e,(I=(y-=y/S)>>w)<=1&&(I=0),c=0;c<I;c++)O[c]=p*((I*I-c*c)*D/(I*I))},_=(c.map=function(e,t,n){var a,c,r,i,l,d,u;for(l=1e3,u=-1,c=(a=x[t])-1;a<s||c>=0;)a<s&&((r=(d=o[a])[1]-t)>=l?a=s:(a++,r<0&&(r=-r),(i=d[0]-e)<0&&(i=-i),(r+=i)<l&&((i=d[2]-n)<0&&(i=-i),(r+=i)<l&&(l=r,u=d[3])))),c>=0&&((r=t-(d=o[c])[1])>=l?c=-1:(c--,r<0&&(r=-r),(i=d[0]-e)<0&&(i=-i),(r+=i)<l&&((i=d[2]-n)<0&&(i=-i),(r+=i)<l&&(l=r,u=d[3]))));return u},c.process=function(){return j(),_(),z(),T()},function(){var e;for(e=0;e<s;e++)o[e][0]>>=f,o[e][1]>>=f,o[e][2]>>=f,o[e][3]=e}),N=function(e,t,n,a,c){var r,i,l,d,u,m,f;for((l=t-e)<-1&&(l=-1),(d=t+e)>s&&(d=s),r=t+1,i=t-1,m=1;r<d||i>l;){if(u=O[m++],r<d){f=o[r++];try{f[0]-=u*(f[0]-n)/U,f[1]-=u*(f[1]-a)/U,f[2]-=u*(f[2]-c)/U}catch(e){}}if(i>l){f=o[i--];try{f[0]-=u*(f[0]-n)/U,f[1]-=u*(f[1]-a)/U,f[2]-=u*(f[2]-c)/U}catch(e){}}}},X=function(e,t,n,a,c){var s=o[t];s[0]-=e*(s[0]-n)/k,s[1]-=e*(s[1]-a)/k,s[2]-=e*(s[2]-c)/k},Y=function(e,t,n){var a,c,r,i,l,d,u,m,v,y;for(v=m=~(1<<31),u=d=-1,a=0;a<s;a++)(c=(y=o[a])[0]-e)<0&&(c=-c),(r=y[1]-t)<0&&(r=-r),c+=r,(r=y[2]-n)<0&&(r=-r),(c+=r)<m&&(m=c,d=a),(i=c-(P[a]>>g-f))<v&&(v=i,u=a),l=F[a]>>p,F[a]-=l,P[a]+=l<<I;return F[d]+=B,P[d]-=E,u};return A.apply(this,arguments),c}}]);
//# sourceMappingURL=main.js.map