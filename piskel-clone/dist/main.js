!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);let o,s=512;function a(e){s=e,canvas.height=e,canvas.width=e,document.getElementById("size128").classList.remove("active"),document.getElementById("size256").classList.remove("active"),document.getElementById("size512").classList.remove("active"),document.getElementById(`size${e}`).classList.add("active"),localStorage.setItem("size",s);const t=localStorage.getItem("canvas"),n=new Image;n.crossOrigin="Anonymous",n.src=t,n.onload=function(){I.drawImage(n,0,0,512/(512/s),512/(512/s))}}function c(e){document.getElementById("size128").classList.remove("active"),document.getElementById("size256").classList.remove("active"),document.getElementById("size512").classList.remove("active"),document.getElementById(`size${e}`).classList.add("active")}function l(e){let t=e.slice(4,e.length-1);return t=t.split(", "),`#${((1<<24)+(+t[0]<<16)+(+t[1]<<8)+ +t[2]).toString(16).slice(1)}`}function i(e){document.getElementById("pencil").classList.remove("active"),document.getElementById("paintBucket").classList.remove("active"),document.getElementById("chooseColor").classList.remove("active"),document.getElementById("eraser").classList.remove("active"),document.getElementById(`${e}`).classList.add("active")}n.d(t,"color",(function(){return v})),n.d(t,"ctx",(function(){return I}));let d=!1,r=!1,m=!1,u=!1,g=!1,v="#ff0000";const y=document.getElementById("canvas");y.style.width="512px",y.style.height="512px";const I=y.getContext("2d");if(I.imageSmoothingEnabled=!1,localStorage.getItem("canvas")){const e=localStorage.getItem("canvas"),t=new Image;t.crossOrigin="Anonymous",t.src=e,t.onload=function(){I.strokeStyle=v,I.drawImage(t,0,0,512,512)}}localStorage.getItem("size")&&("128"===localStorage.getItem("size")&&c("128"),"256"===localStorage.getItem("size")&&c("256"),"512"===localStorage.getItem("size")&&c("512")),document.getElementById("size").addEventListener("click",e=>{const{target:t}=e;"size128"===t.id&&a(128),"size256"===t.id&&a(256),"size512"===t.id&&a(512)}),document.getElementById("mainItems").addEventListener("click",e=>{d=!1,u=!1,m=!1,g=!1;const{target:t}=e,n=t.closest("div");"main__items"!==n.className&&("pencil"===n.id&&(i("pencil"),d=!0),"paintBucket"===n.id&&(i("paintBucket"),m=!0),"chooseColor"===n.id&&(i("chooseColor"),u=!0),"eraser"===n.id&&(i("eraser"),g=!0))}),document.getElementById("canvas").addEventListener("mousedown",e=>{if(d){I.strokeStyle=v,I.beginPath();const t=e.offsetX,n=e.offsetY;I.moveTo(t/(parseInt(y.style.width,10)/s),n/(parseInt(y.style.height,10)/s)),r=!0}}),document.getElementById("canvas").addEventListener("mousemove",e=>{if(r){const t=e.offsetX,n=e.offsetY;I.lineTo(t/(parseInt(y.style.width,10)/s),n/(parseInt(y.style.height,10)/s)),I.stroke()}}),document.getElementById("canvas").addEventListener("mouseup",()=>{r=!1,localStorage.setItem("canvas",y.toDataURL())}),document.getElementById("canvas").addEventListener("mouseleave",()=>{r=!1,localStorage.setItem("canvas",y.toDataURL())}),document.getElementById("canvas").addEventListener("mousedown",e=>{if(d){const t=e.offsetX,n=e.offsetY;I.strokeStyle=v,I.fillStyle=v,I.fillRect(t/(512/s),n/(512/s),1,1),localStorage.setItem("canvas",y.toDataURL())}}),document.addEventListener("keydown",(function(e){"KeyB"===e.code&&(document.getElementById("paintBucket").classList.add("active"),document.getElementById("pencil").classList.remove("active"),document.getElementById("chooseColor").classList.remove("active"),document.getElementById("canvas").classList.remove("pencil"),document.getElementById("canvas").classList.remove("choose-color"),document.getElementById("canvas").classList.add("paint-bucket")),"KeyC"===e.code&&(document.getElementById("chooseColor").classList.add("active"),document.getElementById("canvas").classList.add("choose-color"),document.getElementById("paintBucket").classList.remove("active"),document.getElementById("pencil").classList.remove("active"),document.getElementById("canvas").classList.remove("pencil"),document.getElementById("canvas").classList.remove("paint-bucket")),"KeyP"===e.code&&(document.getElementById("pencil").classList.add("active"),document.getElementById("canvas").classList.add("pencil"),document.getElementById("paintBucket").classList.remove("active"),document.getElementById("chooseColor").classList.remove("active"),document.getElementById("canvas").classList.remove("choose-color"),document.getElementById("canvas").classList.remove("paint-bucket"))})),document.getElementById("clear").addEventListener("click",(function(){I.fillStyle="lightgrey",I.fillRect(0,0,512,512)})),document.getElementById("mainColors").addEventListener("click",e=>{const{target:t}=e,n=t.closest("div");"main__colors"!==n.className&&(n.classList.add("active"),"primaryColor"===n.id&&(document.getElementById("secondaryColor").classList.remove("active"),v=document.getElementById("inputColorPrimary").value),"secondaryColor"===n.id&&(document.getElementById("primaryColor").classList.remove("active"),v=document.getElementById("inputColorSecondary").value))}),document.getElementById("canvas").addEventListener("click",e=>{u&&function(e){const t=e.offsetX,n=e.offsetY,a=I.getImageData(t/(parseInt(canvas.style.width,10)/s),n/(parseInt(canvas.style.height,10)/s),1,1).data,c=`rgb(${a[0]}, ${a[1]}, ${a[2]})`;document.getElementById("swapPrevColor").style.background=v;let i=l(c);document.getElementById("swapCurrentColor").style.background=i,document.getElementById("inputColor").value=i,o=i}(e)}),document.getElementById("inputColorPrimary").addEventListener("input",()=>{v=document.getElementById("inputColorPrimary").value}),document.getElementById("inputColorSecondary").addEventListener("input",()=>{v=document.getElementById("inputColorSecondary").value}),document.getElementById("canvas").addEventListener("click",e=>{m&&(!function(e){const t=e.offsetX,n=e.offsetY,o=I.getImageData(t/(parseInt(canvas.style.width,10)/s),n/(parseInt(canvas.style.height,10)/s),1,1).data,a=l(`rgb(${o[0]}, ${o[1]}, ${o[2]})`),c=[],i={};for(c.push([t,n]),I.fillStyle=v;c.length>0;){const e=c.pop(),t=e[0],n=e[1];if(!0===i[`${t} ${n}`])continue;i[`${t} ${n}`]=!0;const o=I.getImageData(t,n,1,1).data;l(`rgb(${o[0]}, ${o[1]}, ${o[2]})`)===a&&(I.fillRect(t/(parseInt(canvas.style.width,10)/s),n/(parseInt(canvas.style.height,10)/s),1,1),512!==t&&!0!==i[`${+t+1} ${n}`]&&c.push([t+1,n]),0!==t&&!0!==i[`${+t-1} ${n}`]&&c.push([t-1,n]),512!==n&&!0!==i[`${t} ${+n+1}`]&&c.push([t,n+1]),0!==n&&!0!==i[`${t} ${+n-1}`]&&c.push([t,n-1]))}localStorage.setItem("canvas",canvas.toDataURL())}(e),v=o)});let f=!1;document.getElementById("canvas").addEventListener("mousemove",e=>{if(f){const t=e.offsetX,n=e.offsetY;I.lineWidth=5,I.lineTo(t/(parseInt(y.style.width,10)/s),n/(parseInt(y.style.height,10)/s),5,5),I.stroke()}}),document.getElementById("canvas").addEventListener("mouseup",()=>{f=!1}),document.getElementById("canvas").addEventListener("mouseleave",()=>{f=!1}),document.getElementById("canvas").addEventListener("mousedown",e=>{if(g){I.strokeStyle="lightgrey";const t=e.offsetX,n=e.offsetY;I.beginPath(),I.moveTo(t/(parseInt(y.style.width,10)/s),n/(parseInt(y.style.height,10)/s)),I.fillStyle="lightgrey",I.fillRect(t/(512/s),n/(512/s),5,5),f=!0,localStorage.setItem("canvas",y.toDataURL())}}),window.onunload=()=>{localStorage.setItem("canvas",y.toDataURL()),localStorage.setItem("sizeCanvas",s)}}]);
//# sourceMappingURL=main.js.map